(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7337"],{KNUY:function(e,t,n){"use strict";var r=n("ii8N");n.n(r).a},KNhL:function(e,t,n){"use strict";n.r(t);var r=n("P2sY"),a=n.n(r),i=n("YEIV"),o=n.n(i),s={name:"cardadd",mixins:[n("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){var e;return e={newCardForm:{id:0,user_id:0,cardno:""},cardForm:{}},o()(e,"newCardForm",{id:0,user_id:"",cardno:"",user_name:""}),o()(e,"cardForm",{id:0,user_id:"",cardno:"",user_name:""}),o()(e,"personnelData",[]),e},mounted:function(){var e=this;this.pObj=a()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.cardForm=a()({},this.newCardForm,this.pObj)):this.cardForm=a()({},this.newCardForm,this.$route.params),this.callSrvAct("/userlist",{title:"",idnumber:"",parent_id:0,cp:0,rop:1e4}).then(function(t){console.log("人员",t),e.personnelData=t.data.pageData})},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.cardForm=a()({},this.newCardForm,this.pObj))},personnelChange:function(e){console.log(e);for(var t=0;t<this.personnelData.length;t++)e==this.personnelData[t].id&&(this.cardForm.user_name=this.personnelData[t].title)},submit:function(){var e=this;this.callSrvAct("/cardadd",this.cardForm).then(function(t){console.log("返回值",t),e.$emit("submitOk")})}},watch:{paramsObj:function(e){this.pObj.id!=this.paramsObj.id&&(this.pObj=a()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},c=(n("KNUY"),n("KHd+")),d=Object(c.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{direction:"vertical"}},[n("el-form",{attrs:{model:e.cardForm,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"姓名：",prop:"user_id",rules:{required:!0}}},[n("el-select",{on:{change:e.personnelChange},model:{value:e.cardForm.user_id,callback:function(t){e.$set(e.cardForm,"user_id",t)},expression:"cardForm.user_id"}},e._l(e.personnelData,function(e,t){return n("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"卡号：",prop:"cardno",rules:{required:!0,trigger:"input"}}},[n("el-input",{staticStyle:{width:"220px"},model:{value:e.cardForm.cardno,callback:function(t){e.$set(e.cardForm,"cardno",t)},expression:"cardForm.cardno"}})],1)],1),e._v(" "),n("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[n("span",[e._v("提交\n            ")])])],1)],1)},[],!1,null,"750b78e6",null);d.options.__file="index.vue";t.default=d.exports},"RU/L":function(e,t,n){n("Rqdy");var r=n("WEpk").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},Rqdy:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},SEkw:function(e,t,n){e.exports={default:n("RU/L"),__esModule:!0}},YEIV:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("SEkw"));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},ii8N:function(e,t,n){}}]);