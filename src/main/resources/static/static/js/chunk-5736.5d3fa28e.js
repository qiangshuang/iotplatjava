(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5736"],{"4XNe":function(e,a,t){},aUm3:function(e,a,t){"use strict";t.r(a);var n=t("EJiy"),s=t.n(n),l=t("gDS+"),r=t.n(l),i={name:"baseman",mixins:[t("y2a5").a],components:{},props:{},data:function(){return{basemanData:[],basemanTotalRec:0,basemanTotalPage:0,basemanRecOfPage:10,basemanCurPage:1,basemanCbPage:this.gen_list_cb("baseman"),basemanQueryArr:[{name:"title",val:"",op:"like",tb:"baseman"},{name:"type",val:"",op:"like",tb:"baseman"},{name:"area",val:"",op:"like",tb:"baseman"}],basemanQueryInit:[{name:"title",val:"",op:"like",tb:"baseman"},{name:"type",val:"",op:"like",tb:"baseman"},{name:"area",val:"",op:"like",tb:"baseman"}],basemanMultiSel:[],basemanSortParas:[{name:"id",tb:"baseman",orderV:"desc"}],regionArr:[],baseArr:["A基站","B基站","C基站"],tableHeight:window.innerHeight-500}},mounted:function(){this.refreshPage("baseman","/actq","basemanlist");var e=this;this.callSrvAct("/actq",{_hy:"regiontt",qps:[{name:"title",val:"",op:"like"}],sps:[{name:"title",orderV:"asc"}]}).then(function(a){var t=a.data||[];console.log("获取到的数据",t),e.regionArr=t})},methods:{basemanMultiSelChange:function(e){this.basemanMultiSel=e},basemanQuery:function(){this.refreshPage2("baseman","/actq",this.remoteRecOfPage,1,"basemanlist")},basemanResetQuery:function(){this.basemanQueryArr=JSON.parse(r()(this.basemanQueryInit))},basemanSizeChange:function(e){this.refreshPage2("baseman","/actq",e,this.basemanCurPage,"basemanlist")},basemanCurChange:function(e){this.refreshPage2("baseman","/actq",this.basemanRecOfPage,e,"basemanlist")},add:function(){this.$router.push({name:"baseedit"})},search:function(){this.refreshPage("baseman","/actq","basemanlist")},show3:function(){var e=this;console.log("多选ID",this.basemanMultiSel);var a=this;this.$confirm("此操作将删除该项数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={_hy:"basemandel",baseman:[{name:"id",val:a.basemanMultiSel,op:"in"}]};console.log("upData:",t),e.callSrvAct("/act",t).then(function(a){e.refreshPage("baseman","/actq","basemanlist")})}).catch(function(a){e.$message.error(a)})},handleChange:function(e){console.log("hahaha",e);for(var a=[],t=0;t<e.length;t++)a.push(e[t].id);this.basemanMultiSel=a,this.dataArr=e,console.log("qqq",e)},importing:function(){this.$router.push({name:"baseimport"})},exportExcel:function(){for(var e=[],a=0;a<this.basemanData.length;a++)e.push({"名称":this.basemanData[a].title,"类型":this.basemanData[a].type,"区域":this.basemanData[a].area,"厂商":this.basemanData[a].factory,"最近在线时间":this.basemanData[a].recenttime,"状态":this.basemanData[a].state,"IP地址":this.basemanData[a].ipaddress});var t=XLSX.utils.json_to_sheet(e);console.log(t),this.openDownloadDialog(this.sheet2blob(t),"下载1.xlsx")},sheet2blob:function(e,a){var t={SheetNames:[a=a||"sheet1"],Sheets:{}};t.Sheets[a]=e;var n=XLSX.write(t,{bookType:"xlsx",bookSST:!1,type:"binary"});return new Blob([function(e){for(var a=new ArrayBuffer(e.length),t=new Uint8Array(a),n=0;n!=e.length;++n)t[n]=255&e.charCodeAt(n);return a}(n)],{type:"application/octet-stream"})},openDownloadDialog:function(e,a){"object"==(void 0===e?"undefined":s()(e))&&e instanceof Blob&&(e=URL.createObjectURL(e));var t,n=document.createElement("a");n.href=e,n.download=a||"",window.MouseEvent?t=new MouseEvent("click"):(t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(t)},handleClick:function(e){var a,t=e;console.log("查看数据",t),a=JSON.parse(r()(t)),console.log("传递数据",a),this.$router.push({name:"detailsee",params:a})}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},o=(t("vHY9"),t("KHd+")),c=Object(o.a)(i,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-container",{staticStyle:{height:"100%"},attrs:{direction:"vertical"}},[t("div",{staticStyle:{padding:"20px",display:"flex"}},[t("div",[t("span",[e._v("基站名称\n            ")]),e._v(" "),t("el-input",{staticStyle:{width:"200px"},model:{value:e.basemanQueryArr[0].val,callback:function(a){e.$set(e.basemanQueryArr[0],"val",a)},expression:"basemanQueryArr[0].val"}})],1),e._v(" "),t("div",{staticStyle:{"margin-left":"30px"}},[t("span",[e._v("基站类型\n            ")]),e._v(" "),t("el-select",{model:{value:e.basemanQueryArr[1].val,callback:function(a){e.$set(e.basemanQueryArr[1],"val",a)},expression:"basemanQueryArr[1].val"}},e._l(e.baseArr,function(e,a){return t("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),t("div",{staticStyle:{"margin-left":"30px"}},[t("span",[e._v("区域\n            ")]),e._v(" "),t("el-select",{model:{value:e.basemanQueryArr[2].val,callback:function(a){e.$set(e.basemanQueryArr[2],"val",a)},expression:"basemanQueryArr[2].val"}},e._l(e.regionArr,function(e,a){return t("el-option",{key:e.id,attrs:{label:e.title,value:e.title}})}))],1)]),e._v(" "),t("div",[t("el-button",{attrs:{type:"primary"},on:{click:e.search}},[t("span",[e._v("搜索\n            ")])]),e._v(" "),t("el-button",{on:{click:e.importing}},[t("span",[e._v("批量导入\n            ")])]),e._v(" "),t("el-button",{on:{click:e.exportExcel}},[t("span",[e._v("批量导出\n            ")])]),e._v(" "),t("el-button",{on:{click:e.add}},[t("span",[e._v("新增\n            ")])]),e._v(" "),t("el-button",{on:{click:e.show3}},[t("span",[e._v("批量删除\n            ")])])],1),e._v(" "),t("el-table",{ref:"baseman",attrs:{stripe:!0,border:!0,height:e.tableHeight,"header-cell-style":{background:"#E6F4FF",fontWeight:"500",color:"#0A51C4",borderBottom:"2px solid #4093F7"},data:e.basemanData},on:{"selection-change":e.handleChange}},[t("el-table-column",{attrs:{label:"全选",type:"selection"}}),e._v(" "),t("el-table-column",{attrs:{label:"名称",prop:"title",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"类型",prop:"type",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"区域",prop:"area",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"厂商",prop:"factory",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"最近在线时间",prop:"recenttime",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"状态",prop:"state",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"IP地址",prop:"ipaddress",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"margin-top":"10px"}},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleClick(a.row)}}},[t("span",[e._v("查看详情\n                        ")])]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.handlebasemanEdit(a.$index,a.row)}}},[t("span",[e._v("编辑\n                        ")])]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.handlebasemanDel(a.$index,a.row)}}},[t("span",[e._v("删除\n                        ")])])],1)]}}])})],1),e._v(" "),t("el-pagination",{attrs:{total:e.basemanTotalRec,"page-count":e.basemanTotalPage,layout:"total, sizes, prev, pager, next"},on:{"size-change":e.basemanSizeChange,"current-change":e.basemanCurChange}})],1)},[],!1,null,"011fdd71",null);c.options.__file="index.vue";a.default=c.exports},vHY9:function(e,a,t){"use strict";var n=t("4XNe");t.n(n).a}}]);