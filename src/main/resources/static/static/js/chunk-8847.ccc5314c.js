(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8847","chunk-7a97","chunk-145a"],{"/IeM":function(t,e,a){"use strict";var n=a("0x5W");a.n(n).a},"/Oip":function(t,e,a){"use strict";var n=a("TnDv");a.n(n).a},"0x5W":function(t,e,a){},"6az7":function(t,e,a){"use strict";a.r(e);var n={name:"",mixins:[a("y2a5").a],components:{},props:{},data:function(){return{sync_deviceQueryArr:[{name:"name",val:"",op:"like",tb:"sync_device"}],sync_deviceQueryInit:[{name:"name",val:"",op:"like",tb:"sync_device"}],equipmentData:[],name:"",selectData:[]}},mounted:function(){var t=this;this.callSrvAct("/syncVehicleDevice",{name:"",cp:0,rop:10}).then(function(e){console.log("返回值",e),t.equipmentData=e.data.pageData})},methods:{handleChange:function(t){console.log(t),this.selectData=t},search:function(){var t=this;this.callSrvAct("/syncVehicleDevice",{name:this.name,cp:0,rop:10}).then(function(e){console.log("返回值",e),t.equipmentData=e.data.pageData})},add:function(){var t=this;if(this.selectData&&!(this.selectData.length<1)){for(var e=[],a=0;a<this.selectData.length;a++)e.push({title:this.selectData[a].name,firm:"海康",indexCode:this.selectData[a].indexCode,created:(new Date).getTime(),updated:(new Date).getTime()});this.callSrvAct("/vehiclegateadd",e).then(function(e){console.log("返回值",e),t.$emit("submitOk")})}},SizeChange:function(){},CurChange:function(){}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},i=(a("/Oip"),a("KHd+")),r=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("div",[a("el-input",{staticStyle:{width:"200px"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("div",{staticStyle:{"margin-left":"30px"}},[a("el-button",{on:{click:t.search}},[a("span",[t._v("搜索\n                ")])]),t._v(" "),a("el-button",{on:{click:t.add}},[a("span",[t._v("添加\n                ")])])],1)]),t._v(" "),a("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:t.equipmentData,stripe:!0,border:!0},on:{"selection-change":t.handleChange}},[a("el-table-column",{attrs:{label:"全选",prop:"全选",align:"center",type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{label:"设备名称",prop:"name",align:"center"}})],1),t._v(" "),t._e()],1)},[],!1,null,"ff27f252",null);r.options.__file="index.vue";e.default=r.exports},GeFh:function(t,e,a){},"RU/L":function(t,e,a){a("Rqdy");var n=a("WEpk").Object;t.exports=function(t,e,a){return n.defineProperty(t,e,a)}},Rqdy:function(t,e,a){var n=a("Y7ZC");n(n.S+n.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(t,e,a){t.exports={default:a("RU/L"),__esModule:!0}},TnDv:function(t,e,a){},YEIV:function(t,e,a){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(a("SEkw"));e.default=function(t,e,a){return e in t?(0,n.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},alXp:function(t,e,a){"use strict";a.r(e);var n=a("P2sY"),i=a.n(n),r=a("gDS+"),c=a.n(r),o=a("YEIV"),s=a.n(o),l=a("6az7"),u=a("x1sX"),m={name:"",mixins:[a("y2a5").a],components:{Gatesync:l.default,Equup:u.default},props:{},data:function(){var t;return t={cargatemanData:[],cargatemanTotalRec:0,cargatemanTotalPage:0,cargatemanRecOfPage:10,cargatemanCurPage:1,cargatemanCbPage:this.gen_list_cb("cargateman"),cargatemanQueryArr:[{name:"title",val:"",op:"like",tb:"vehicle_gate"}],cargatemanQueryInit:[{name:"title",val:"",op:"like",tb:"vehicle_gate"}],cargatemanMultiSel:[],cargatemanSortParas:[{name:"id",tb:"vehicle_gate",orderV:"desc"}],brakesy:!1,brakeInstEdit:null,show:!1,carEdit:null,tableHeight:window.innerHeight-500},s()(t,"show",!1),s()(t,"titlename",this.title),t},mounted:function(){this.refreshPage("cargateman","/actq","cargatemanlist")},methods:{cargatemanMultiSelChange:function(t){this.cargatemanMultiSel=t},cargatemanQuery:function(){this.refreshPage2("cargateman","/actq",this.remoteRecOfPage,1,"cargatemanlist")},cargatemanResetQuery:function(){this.cargatemanQueryArr=JSON.parse(c()(this.cargatemanQueryInit))},cargatemanSizeChange:function(t){this.refreshPage2("cargateman","/actq",t,this.cargatemanCurPage,"cargatemanlist")},cargatemanCurChange:function(t){this.refreshPage2("cargateman","/actq",this.cargatemanRecOfPage,t,"cargatemanlist")},opengate:function(t,e){var a=this,n={id:e.id};console.log("参数",n),this.callSrvAct("/vehiclegateopen",n).then(function(t){console.log("结果",t),a.refreshPage("cargateman","/actq","cargatemanlist")})},carOk:function(){this.show=!1,this.refreshPage("cargateman","/actq","cargatemanlist")},carClose:function(){this.show=!1},brakesync:function(){this.brakesy=!0},editBrakeSetOK:function(){this.brakesy=!1,this.refreshPage("cargateman","/actq","cargatemanlist")},showEditBrakeSet:function(){this.brakesy=!1},search:function(){this.refreshPage("cargateman","/actq","cargatemanlist")},handleClick:function(t,e){console.log("行数据",e.title),this.carEdit=i()({},e),this.show=!0,this.carClos=!0},show3:function(){var t=this;console.log("多选ID",this.cargatemanMultiSel);var e=this;this.$confirm("此操作将删除该项数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={_hy:"cargatemandel",vehicle_gate:[{name:"id",val:e.cargatemanMultiSel,op:"in"}]};console.log("upData:",a),t.callSrvAct("/act",a).then(function(e){t.refreshPage("cargateman","/actq","cargatemanlist")})}).catch(function(e){t.$message.error(e)})},handleChange:function(t){console.log("hahaha",t);for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.cargatemanMultiSel=e,this.dataArr=t,console.log("qqq",t)},handleDel:function(t,e){var a=this,n=e;console.log("哈哈",e),this.$confirm("此操作将删除该项数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={_hy:"cargatemandel",vehicle_gate:[{name:"id",val:[n.id],op:"in"}]};console.log("upData:",t),a.callSrvAct("/act",t).then(function(t){a.refreshPage("cargateman","/actq","cargatemanlist")})}).catch(function(t){a.$message.error(t)})}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},h=(a("/IeM"),a("KHd+")),g=Object(h.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100%"},attrs:{direction:"vertical"}},[a("div",[a("span",[t._v("设备名称\n        ")]),t._v(" "),a("el-input",{staticStyle:{width:"260px"},model:{value:t.cargatemanQueryArr[0].val,callback:function(e){t.$set(t.cargatemanQueryArr[0],"val",e)},expression:"cargatemanQueryArr[0].val"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.search}},[a("span",[t._v("搜索\n            ")])])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"danger"},on:{click:t.show3}},[a("span",[t._v("批量删除\n            ")])]),t._v(" "),a("el-button",{on:{click:t.brakesync}},[a("span",[t._v("设备同步\n            ")])])],1),t._v(" "),a("el-table",{ref:"cargateman",staticStyle:{margin:"10px 0px"},attrs:{stripe:!0,border:!0,height:t.tableHeight,"header-cell-style":{background:"#E6F4FF",fontWeight:"500",color:"#0A51C4",borderBottom:"2px solid #4093F7"},data:t.cargatemanData},on:{"selection-change":t.handleChange}},[a("el-table-column",{attrs:{label:"全选",prop:"全选",type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{label:"设备名称",prop:"title",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"厂商",prop:"firm",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleClick(e.$index,e.row)}}},[a("span",[t._v("修改\n                        ")])]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.opengate(e.$index,e.row)}}},[a("span",[t._v("开闸\n                        ")])]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[a("span",[t._v("删除\n                        ")])])],1)]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{total:t.cargatemanTotalRec,"page-count":t.cargatemanTotalPage,layout:"total, sizes, prev, pager, next"},on:{"size-change":t.cargatemanSizeChange,"current-change":t.cargatemanCurChange}})],1),t._v(" "),t.brakesy?a("el-dialog",{attrs:{visible:t.brakesy,title:"设备同步","append-to-body":!0},on:{"update:visible":function(e){t.brakesy=e}}},[a("gatesync",{attrs:{paramsObj:t.brakeInstEdit},on:{submitOk:t.editBrakeSetOK,submitClose:t.showEditBrakeSet}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{visible:t.show,title:"修改"},on:{"update:visible":function(e){t.show=e}}},[a("equup",{attrs:{paramsObj:t.carEdit},on:{submitOk:t.carOk,submitClose:t.carClose}})],1)],1)},[],!1,null,"41b91b56",null);g.options.__file="index.vue";e.default=g.exports},"t5d+":function(t,e,a){"use strict";var n=a("GeFh");a.n(n).a},x1sX:function(t,e,a){"use strict";a.r(e);var n=a("P2sY"),i=a.n(n),r={name:"",mixins:[a("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newCargatemanForm:{id:0,title:""},cargatemanForm:{}}},mounted:function(){this.pObj=i()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.cargatemanForm=i()({},this.newCargatemanForm,this.pObj)):this.cargatemanForm=i()({},this.newCargatemanForm,this.$route.params)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.cargatemanForm=i()({},this.newCargatemanForm,this.pObj))},close:function(){this.$emit("submitClose")},handleClick12:function(){this.submitOrgForm("cargatemanForm")},submitOrgForm:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;e.submitOrgFormImpl(t)})},submitOrgFormImpl:function(t){var e=this,a=void 0,n=!0,r="";this[t].id>0?(a="/act",n=!1,r="cargateup"):(a="/act",r="dataflowadd",this[t].state="关闭");var c=i()({},this[t]);c._hy=r,this.callSrvAct(a,c).then(function(t){e.isInDialog?n?t.data&&t.data.inst?(console.log("1111111111"),e.$emit("submitOk",t.data.inst)):t.data&&(console.log("22222222222"),e.$emit("submitOk",t.data||{})):e.$emit("submitOk",c):e.$router.go(-1)})}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=i()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},c=(a("t5d+"),a("KHd+")),o=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[t._e(),t._v(" "),a("div",[a("el-form",{ref:"cargatemanForm",attrs:{model:t.cargatemanForm}},[a("el-form-item",{attrs:{label:"设备名称：",prop:"title",rules:{required:!0,message:"请填写设备名称",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.cargatemanForm.title,callback:function(e){t.$set(t.cargatemanForm,"title",e)},expression:"cargatemanForm.title"}})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"50px",padding:"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleClick12}},[a("span",[t._v("确定\n                ")])]),t._v(" "),a("el-button",{on:{click:t.close}},[a("span",[t._v("取消\n                ")])])],1)],1)])},[],!1,null,"d9605c18",null);o.options.__file="index.vue";e.default=o.exports}}]);