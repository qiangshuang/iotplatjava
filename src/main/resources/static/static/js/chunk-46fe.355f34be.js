(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-46fe"],{"ri/y":function(t,e,r){},twYc:function(t,e,r){"use strict";r.r(e);var o=r("P2sY"),s=r.n(o),a={name:"stopit",mixins:[r("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{pObj:{},progresss:0,barcolors:"",pArr:[],reason:!1}},mounted:function(){this.pObj=s()({},this.paramsObj),this.pObj.progress=0,this.pObj.barcolor="",this.pObj.barstate="",this.pArr.push(this.pObj);this.startup()},methods:{startup:function(){var t=this,e=this,r={_hy:"algorithmclose",qps:[{name:"id",val:[this.pObj.id],op:"in"}]};console.log("upData:",r),this.callSrvAct("/algorithmclose",r).then(function(r){console.log("后台返回值",r),"SUCCESS"==r.data[0].result?(t.count("SUCCESS",r.data),e.barcolors="green",t.pArr[0].barcolor="green",t.$emit("submitOk")):"FAILD"==r.data[0].result&&(t.count("FAILD",r.data),e.barcolors="red",t.pArr[0].barcolor="red")})},count:function(t,e){var r=this,o=this;o.progress=0,this.interval=window.setInterval(function(){o.progresss+=40,r.pArr[0].progress+=40,o.$set(o.pArr,0,o.pArr[0]),o.progresss>=100&&(o.progresss=100,o.pArr[0].progress=100,"SUCCESS"==t?r.pArr[0].barstate="success":"FAILD"==t&&(r.pArr[0].barstate="exception",r.pArr[0].msg=e[0].msg,r.reason=!0),window.clearInterval(o.interval),console.log(t))},500)},colse:function(){this.reason=!1,this.$emit("submitClose")}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){this.reason=!1,window.clearInterval(this.interval)},destroyed:function(){}},n=(r("uUJe"),r("KHd+")),l=Object(n.a)(a,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",{attrs:{direction:"vertical"}},[r("div",{staticStyle:{display:"flex",margin:"10px 0px"}},[r("span",[t._v("总进度：\n        ")]),t._v(" "),r("el-progress",{staticStyle:{width:"200px"},attrs:{percentage:t.progresss,color:t.barcolors}})],1),t._v(" "),r("el-table",{attrs:{data:t.pArr,"header-cell-style":{background:"rgba(241,246,254,1)",fontWeight:"500",color:"#333333",fontSize:"16px"}}},[r("el-table-column",{attrs:{label:"算法名称",prop:"algorithm_title"}}),t._v(" "),r("el-table-column",{attrs:{label:"摄像机名称",prop:"camera_title"}}),t._v(" "),r("el-table-column",{attrs:{label:"启动时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.gcomm.v2datetimestr(e.row.opentime))+"\n                ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"停止进度"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("el-progress",{attrs:{percentage:t.row.progress,status:t.row.barstate,color:t.row.barcolor}})]}}])}),t._v(" "),t.reason?r("el-table-column",{attrs:{label:"失败原因",prop:"msg"}}):t._e()],1),t._v(" "),r("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[r("el-button",{on:{click:t.colse}},[r("span",[t._v("关闭\n            ")])])],1)],1)},[],!1,null,"02e9d9aa",null);l.options.__file="index.vue";e.default=l.exports},uUJe:function(t,e,r){"use strict";var o=r("ri/y");r.n(o).a}}]);