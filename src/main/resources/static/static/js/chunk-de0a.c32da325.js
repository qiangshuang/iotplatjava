(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-de0a"],{"Nzn+":function(t,e,i){"use strict";i.r(e);var a=i("gDS+"),n=i.n(a),l={name:"vipman",mixins:[i("y2a5").a],components:{},props:{},data:function(){return{visitData:[],visitTotalRec:0,visitTotalPage:0,visitRecOfPage:10,visitCurPage:1,visitCbPage:this.gen_list_cb("visit"),visitQueryArr:[],visitQueryInit:[],tableHeight:window.innerHeight-420,times:[],idnumber:"",mobile:"",title:""}},mounted:function(){var t=this;this.callSrvAct("/visitlist",{title:"",cp:0,rop:10}).then(function(e){console.log("返回值",e),t.visitData=e.data.pageData||[],t.visitTotalRec=e.data.totalRec})},methods:{add:function(){this.$router.push({name:"visitpman",params:{name:"新增"}})},search:function(){var t=this;this.callSrvAct("/visitlist",{title:this.title,mobile:this.mobile,idnumber:this.idnumber,starttime:this.times[0],endtime:this.times[1],cp:0,rop:10}).then(function(e){console.log("返回值",e),t.visitData=e.data.pageData||[],t.visitTotalRec=e.data.totalRec})},modifys:function(t,e){var i;i=JSON.parse(n()(e)),this.$router.push({name:"visitpman",params:i})},del:function(t,e){var i=this;this.$confirm("确认删除本条数据？","删除数据",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.callSrvAct("/visitpersondel",[e.id]).then(function(t){i.callSrvAct("/visitlist",{title:i.title,mobile:i.mobile,idnumber:i.idnumber,starttime:i.times[0],endtime:i.times[1],cp:0,rop:10}).then(function(t){console.log("返回值",t),i.visitData=t.data.pageData||[],i.visitTotalRec=t.data.totalRec})})}).catch(function(t){})},timess:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"  "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},visitSizeChange:function(t){var e=this;this.callSrvAct("/visitlist",{title:this.title,mobile:this.mobile,idnumber:this.idnumber,starttime:this.times[0],endtime:this.times[1],cp:0,rop:t}).then(function(t){console.log("返回值",t),e.visitData=t.data.pageData||[],e.visitTotalRec=t.data.totalRec})},visitCurChange:function(t){var e=this;this.callSrvAct("/visitlist",{title:this.title,mobile:this.mobile,idnumber:this.idnumber,starttime:this.times[0],endtime:this.times[1],cp:t,rop:10}).then(function(t){console.log("返回值",t),e.visitData=t.data.pageData||[],e.visitTotalRec=t.data.totalRec})},reset:function(){this.times=[],this.idnumber="",this.mobile="",this.title=""}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},s=(i("h+2f"),i("KHd+")),o=Object(s.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{height:"100%"},attrs:{direction:"vertical"}},[i("div",[i("el-row",[i("el-col",{attrs:{span:10}},[i("span",[t._v("时间\n                ")]),t._v(" "),i("el-date-picker",{staticStyle:{"margin-left":"10px"},attrs:{"value-format":"timestamp",editable:!1,clearable:!1,"start-placeholder":"开始时间","end-placeholder":"结束时间",type:"datetimerange","range-separator":"-","unlink-panels":!0},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("span",[t._v("身份证号\n                ")]),t._v(" "),i("el-input",{staticStyle:{width:"220px","margin-left":"10px"},model:{value:t.idnumber,callback:function(e){t.idnumber=e},expression:"idnumber"}})],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("span",{staticStyle:{"margin-left":"30px"}},[t._v("手机号\n                ")]),t._v(" "),i("el-input",{staticStyle:{width:"220px","margin-left":"10px"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1)],1)],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("span",[t._v("姓名\n                ")]),t._v(" "),i("el-input",{staticStyle:{width:"220px","margin-left":"10px"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.search}},[i("span",[t._v("搜索\n                    ")])])],1)],1)],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-button",{on:{click:t.reset}},[i("span",[t._v("重置\n            ")])]),t._v(" "),i("el-button",{on:{click:t.add}},[i("span",[t._v("新增\n            ")])])],1),t._v(" "),i("el-table",{ref:"visit",staticStyle:{margin:"10px 0px"},attrs:{height:t.tableHeight,"header-cell-style":{background:"#E6F4FF",fontWeight:"500",color:"#0A51C4",borderBottom:"2px solid #4093F7"},id:"visit",data:t.visitData}},[i("el-table-column",{attrs:{label:"姓名",prop:"title",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"性别",prop:"gender",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"身份证号",prop:"idnumber",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"手机号",prop:"mobile",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"访问人",prop:"interview_titles",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.timess(e.row.conftime))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"通行时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.timess(e.row.starttime)+" 至 "+t.timess(e.row.endtime))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态",prop:"state",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"180%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){t.modifys(e.$index,e.row)}}},[i("span",[t._v("修改\n                    ")])]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){t.del(e.$index,e.row)}}},[i("span",[t._v("删除\n                    ")])])]}}])})],1),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-pagination",{attrs:{total:t.visitTotalRec,"page-count":t.visitTotalPage,layout:"total, sizes, prev, pager, next"},on:{"size-change":t.visitSizeChange,"current-change":t.visitCurChange}})],1)],1)},[],!1,null,"aaf192a0",null);o.options.__file="index.vue";e.default=o.exports},"h+2f":function(t,e,i){"use strict";var a=i("rg1w");i.n(a).a},rg1w:function(t,e,i){}}]);