(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4c77","chunk-7e4e"],{"/i82":function(t,o,e){"use strict";e.r(o);var i=e("P2sY"),n=e.n(i),a=e("gDS+"),s=e.n(a),r=e("y2a5"),l=e("m1lz"),c={name:"joblist",mixins:[r.a],components:{Jobedit:l.default},props:{},data:function(){return{jobData:[],jobTotalRec:0,jobTotalPage:0,jobRecOfPage:10,jobCurPage:1,jobCbPage:this.gen_list_cb("job"),jobQueryArr:[{name:"title",val:"",op:"like",tb:"job"}],jobQueryInit:[{name:"title",val:"",op:"like",tb:"job"}],jobSortParas:[{name:"title",tb:"job",orderV:"asc"}],jobEditShow:!1,jobInstEdit:null}},mounted:function(){this.refreshPage("job","/actq","joblist")},methods:{jobQuery:function(){this.refreshPage2("job","/actq",this.remoteRecOfPage,1,"joblist")},jobResetQuery:function(){this.jobQueryArr=JSON.parse(s()(this.jobQueryInit))},jobSizeChange:function(t){this.refreshPage2("job","/actq",t,this.jobCurPage,"joblist")},jobCurChange:function(t){this.refreshPage2("job","/actq",this.jobRecOfPage,t,"joblist")},handleJobRowEdit:function(t,o){this.jobInstEdit=n()({},o),this.jobEditShow=!0},handleJobRowDel:function(t,o){var e=this,i=o;this.$confirm("此操作将删除该项数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={_hy:"jobdels",job:[{name:"id",val:i.id,op:"="}]};console.log("upData:",t),e.callSrvAct("/act",t).then(function(t){e.refreshPage("job","/actq","joblist")})}).catch(function(t){e.$message.error(t)})},click46cac:function(){this.jobInstEdit={id:0,title:""},this.jobEditShow=!0},editJobSetOK:function(t,o){this.refreshPage("job","/actq","joblist"),this.jobInstEdit={},this.jobEditShow=!1},editJobSetClose:function(){this.jobEditShow=!1}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},b=(e("0pG0"),e("KHd+")),u=Object(b.a)(c,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("el-container",{attrs:{direction:"vertical"}},[e("el-container",{attrs:{direction:"horizontal"}},[e("span",{staticStyle:{height:"24px",display:"inline-block","margin-top":"12px"}},[t._v("岗位管理\n        ")]),t._v(" "),e("el-button",{staticClass:"header-func",on:{click:t.click46cac}},[e("svg-icon",{attrs:{"icon-class":"add",color:"#363535","font-size":"16px"}}),t._v(" "),e("span",[t._v("新增\n            ")])],1)],1),t._v(" "),e("el-table",{ref:"job",attrs:{data:t.jobData}},[e("el-table-column",{attrs:{label:"岗位名称",prop:"title"}}),t._v(" "),e("el-table-column",{attrs:{label:"排序号",prop:"sort"}}),t._v(" "),e("el-table-column",{attrs:{label:"备注",prop:"memo"}}),t._v(" "),e("el-table-column",{attrs:{prop:"操作"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{"native-type":""},on:{click:function(e){t.handleJobRowEdit(o.$index,o.row)}}},[e("span",[t._v("修改\n                    ")])]),t._v(" "),e("el-button",{on:{click:function(e){t.handleJobRowDel(o.$index,o.row)}}},[e("span",[t._v("删除\n                    ")])])]}}])})],1),t._v(" "),e("el-dialog",{attrs:{visible:t.jobEditShow,title:"职位编辑",width:"70%","append-to-body":!0,"destroy-on-close":!0},on:{"update:visible":function(o){t.jobEditShow=o}}},[e("jobedit",{attrs:{paramsObj:t.jobInstEdit},on:{submitOk:t.editJobSetOK,submitClose:t.editJobSetClose}})],1)],1)},[],!1,null,"10a39b1d",null);u.options.__file="index.vue";o.default=u.exports},"0pG0":function(t,o,e){"use strict";var i=e("TlMm");e.n(i).a},TlMm:function(t,o,e){},d7Xm:function(t,o,e){"use strict";var i=e("dxJH");e.n(i).a},dxJH:function(t,o,e){},m1lz:function(t,o,e){"use strict";e.r(o);var i=e("P2sY"),n=e.n(i),a={name:"jobedit",mixins:[e("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newJobForm:{id:0,title:"",sort:0,memo:""},jobForm:{},isInDialog:!1,pObj:{}}},mounted:function(){this.pObj=n()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.jobForm=n()({},this.newJobForm,this.pObj)):this.jobForm=n()({},this.newJobForm,this.$route.params)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.jobForm=n()({},this.newJobForm,this.pObj))},handleClose:function(){this.isInDialog?this.$emit("submitClose"):this.$router.go(-1)},handleSubmitJob:function(){this.submitJobForm("jobForm")},submitJobFormImpl:function(t){var o=this,e=void 0,i=!0,a="";this[t].id>0?(e="/act",i=!1,a="jobup"):(e="/act",a="jobadd");var s=n()({},this[t]);s._hy=a,this.callSrvAct(e,s).then(function(t){console.log("res:",t,o.isInDialog),o.isInDialog?i?t.data&&t.data.inst?o.$emit("submitOk",t.data.inst):t.data&&o.$emit("submitOk",t.data||{}):o.$emit("submitOk",s):o.$router.go(-1)})},submitJobForm:function(t){var o=this;this.$refs[t].validate(function(e){if(!e)return!1;o.submitJobFormImpl(t)})}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=n()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},s=(e("d7Xm"),e("KHd+")),r=Object(s.a)(a,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("el-container",{attrs:{direction:"vertical"}},[t.isInDialog?t._e():e("el-container",{attrs:{direction:"horizontal"}},[e("span",{staticStyle:{height:"24px",display:"inline-block","margin-top":"12px"}},[t._v("岗位编辑\n        ")]),t._v(" "),e("el-button",{staticClass:"header-func",attrs:{type:"text"}},[e("svg-icon",{attrs:{"icon-class":"close","font-size":"16px"}})],1)],1),t._v(" "),e("el-form",{ref:"jobForm",attrs:{model:t.jobForm,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"岗位名称",prop:"title",rules:{required:!0,message:"请输入岗位名称",min:1,max:255}}},[e("el-input",{model:{value:t.jobForm.title,callback:function(o){t.$set(t.jobForm,"title",o)},expression:"jobForm.title"}})],1),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),e("el-row",{attrs:{type:"flex",justify:"center"}},[e("el-button",{on:{click:t.handleSubmitJob}},[e("span",[t._v("确定\n                    ")])]),t._v(" "),e("el-button",{on:{click:t.handleClose}},[e("span",[t._v("取消\n                    ")])])],1)],1)],1)},[],!1,null,"b69b6fce",null);r.options.__file="index.vue";o.default=r.exports}}]);