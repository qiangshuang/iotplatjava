(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0188","chunk-dd7e"],{HVFt:function(t,e,i){"use strict";i.r(e);var a=i("Vma5"),n={name:"alarmrecord",mixins:[i("y2a5").a],components:{Viewdetailsss:a.default},props:{},data:function(){return{policeData:[],policeTotalRec:0,policeTotalPage:0,policeRecOfPage:10,policeCurPage:1,policeCbPage:this.gen_list_cb("police"),policeQueryArr:[],policeQueryInit:[],policeMultiSel:[],show:!1,viewdetailsssEdit:null,tableHeight:window.innerHeight-500,countData:[],countID:"",regionArr:[],regionID:"",confirmArr:[{id:0,title:"全部",val:""},{id:1,title:"已确认",val:"已确认"},{id:2,title:"未确认",val:"未确认"}],confirmTitle:"",txTime:[]}},mounted:function(){var t=this;this.callSrvAct("/actq",{_hy:"algorithmacclist",qps:[{name:"title",val:"",op:"like"}]}).then(function(e){console.log("类型数据",e),t.countData=e.data.pageData||[],t.countData.splice(0,0,{id:0,title:"全部"})}),this.callSrvAct("/regionlist",{title:"",cp:0,rop:1e4}).then(function(e){console.log("区域",e),t.regionArr=e.data||[]}),this.callSrvAct("/realAlarmlist",{algorithm_id:this.countID,region_id:this.regionID,state:this.confirmTitle,starttime:this.txTime[0],endtime:this.txTime[1],cp:0,rop:10}).then(function(e){console.log("数据",e),t.policeData=e.data.pageData||[],t.policeTotalRec=e.data.totalRec})},methods:{policeMultiSelChange:function(t){this.policeMultiSel=t},search:function(){var t=this;this.callSrvAct("/realAlarmlist",{algorithm_id:this.countID,region_id:this.regionID,state:this.confirmTitle,starttime:this.txTime[0],endtime:this.txTime[1],cp:0,rop:10}).then(function(e){console.log("数据",e),t.policeData=e.data.pageData||[],t.policeTotalRec=e.data.totalRec})},handleClick:function(t,e){this.viewdetailsssEdit=e,this.show=!0},close:function(){this.show=!1},handleChange:function(t){this.policeMultiSel=t},query:function(){for(var t=this,e=[],i=0;i<this.policeMultiSel.length;i++)e.push(this.policeMultiSel[i].id);this.callSrvAct("/confirmState",e).then(function(e){t.callSrvAct("/realAlarmlist",{algorithm_id:t.countID,region_id:t.regionID,state:t.confirmTitle,starttime:t.txTime[0],endtime:t.txTime[1],cp:0,rop:10}).then(function(e){console.log("数据",e),t.policeData=e.data.pageData||[],t.policeTotalRec=e.data.totalRec})})},viewdetailsssOK:function(){var t=this;this.show=!1,this.callSrvAct("/realAlarmlist",{algorithm_id:this.countID,region_id:this.regionID,state:this.confirmTitle,starttime:this.txTime[0],endtime:this.txTime[1],cp:0,rop:10}).then(function(e){console.log("数据",e),t.policeData=e.data.pageData||[],t.policeTotalRec=e.data.totalRec})},viewdetailsssSet:function(){this.show=!1},policeSizeChange:function(t){var e=this;this.callSrvAct("/realAlarmlist",{algorithm_id:this.countID,region_id:this.regionID,state:this.confirmTitle,starttime:this.txTime[0],endtime:this.txTime[1],cp:0,rop:t}).then(function(t){console.log("数据",t),e.policeData=t.data.pageData||[],e.policeTotalRec=t.data.totalRec})},policeCurChange:function(t){var e=this;this.callSrvAct("/realAlarmlist",{algorithm_id:this.countID,region_id:this.regionID,state:this.confirmTitle,starttime:this.txTime[0],endtime:this.txTime[1],cp:t,rop:10}).then(function(t){console.log("数据",t),e.policeData=t.data.pageData||[],e.policeTotalRec=t.data.totalRec})}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},l=(i("IohO"),i("KHd+")),o=Object(l.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{attrs:{direction:"vertical"}},[i("div",{staticStyle:{display:"flex"}},[i("div",{staticStyle:{display:"flex"}},[i("span",{staticStyle:{width:"90px","margin-top":"7px"}},[t._v("任务类型\n            ")]),t._v(" "),i("el-select",{model:{value:t.countID,callback:function(e){t.countID=e},expression:"countID"}},t._l(t.countData,function(t,e){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"10px"}},[i("span",{staticStyle:{width:"90px","margin-top":"7px"}},[t._v("监控位置\n            ")]),t._v(" "),i("el-select",{model:{value:t.regionID,callback:function(e){t.regionID=e},expression:"regionID"}},t._l(t.regionArr,function(t,e){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"10px"}},[i("span",{staticStyle:{width:"90px","margin-top":"7px"}},[t._v("时间范围\n            ")]),t._v(" "),i("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"timestamp","start-placeholder":"开始时间","end-placeholder":"结束时间",type:"datetimerange","unlink-panels":!0},model:{value:t.txTime,callback:function(e){t.txTime=e},expression:"txTime"}})],1),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"10px"}},[i("span",{staticStyle:{width:"90px","margin-top":"7px"}},[t._v("是否确认\n            ")]),t._v(" "),i("el-select",{model:{value:t.confirmTitle,callback:function(e){t.confirmTitle=e},expression:"confirmTitle"}},t._l(t.confirmArr,function(t,e){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.val}})}))],1),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:t.search}},[i("span",[t._v("查询\n            ")])])],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-button",{on:{click:t.query}},[i("span",[t._v("批量确认\n            ")])])],1),t._v(" "),i("el-table",{ref:"police",staticStyle:{margin:"10px 0px"},attrs:{border:!0,height:t.tableHeight,"header-cell-style":{background:"#E6F4FF",fontWeight:"500",color:"#0A51C4",borderBottom:"2px solid #4093F7"},id:"police",data:t.policeData},on:{"selection-change":t.handleChange}},[i("el-table-column",{attrs:{label:"全选",type:"selection"}}),t._v(" "),i("el-table-column",{attrs:{label:"时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.gcomm.v2datetimestr(e.row.alarm_time))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"位置",prop:"region",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"是否确认",prop:"state",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{on:{click:function(i){t.handleClick(e.$index,e.row)}}},[i("span",[t._v("查看详情\n                    ")])])]}}])})],1),t._v(" "),i("div",[i("el-pagination",{staticStyle:{"text-align":"center"},attrs:{total:t.policeTotalRec,"page-count":t.policeTotalPage,layout:"total, sizes, prev, pager, next"},on:{"size-change":t.policeSizeChange,"current-change":t.policeCurChange}})],1),t._v(" "),t.show?i("el-dialog",{attrs:{visible:t.show,title:"报警信息","append-to-body":!0},on:{"update:visible":function(e){t.show=e},close:t.close}},[i("viewdetailsss",{attrs:{paramsObj:t.viewdetailsssEdit},on:{submitOk:t.viewdetailsssOK,submitClose:t.viewdetailsssSet}})],1):t._e()],1)},[],!1,null,"82cfa718",null);o.options.__file="index.vue";e.default=o.exports},I73Y:function(t,e,i){},IohO:function(t,e,i){"use strict";var a=i("jCQf");i.n(a).a},Nxri:function(t,e,i){"use strict";var a=i("I73Y");i.n(a).a},Vma5:function(t,e,i){"use strict";i.r(e);var a={name:"viewdetailsss",mixins:[i("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{pObj:{}}},mounted:function(){this.pObj=this.paramsObj},methods:{end:function(){var t=this;this.callSrvAct("/confirmState",[this.pObj.id]).then(function(e){t.$emit("submitOk")})}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},n=(i("Nxri"),i("KHd+")),l=Object(n.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{attrs:{direction:"vertical"}},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("div",[i("span",[t._v(t._s(t.pObj.camera_name+"-"+t.pObj.algorithm_name)+"\n                ")])]),t._v(" "),i("div",{staticStyle:{margin:"10px 0px"}},[i("span",[t._v(t._s(t.gcomm.v2datetimestr(t.pObj.alarm_time))+"\n                ")])])]),t._v(" "),i("div",[i("el-button",{attrs:{type:"danger"},on:{click:t.end}},[i("span",[t._v("结束当前预警\n                ")])])],1)]),t._v(" "),i("div",{staticStyle:{width:"100%",height:"360px",border:"20px solid #ADADAD"}},[i("img",{attrs:{src:t.pObj.alarm_img,width:"100%",height:"100%"}})])])},[],!1,null,"ebba7a1e",null);l.options.__file="index.vue";e.default=l.exports},jCQf:function(t,e,i){}}]);