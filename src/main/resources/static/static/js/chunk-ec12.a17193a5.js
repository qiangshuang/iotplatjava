(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ec12"],{"0Lah":function(e,t,i){},"5kiO":function(e,t,i){"use strict";var o=i("0Lah");i.n(o).a},"RU/L":function(e,t,i){i("Rqdy");var o=i("WEpk").Object;e.exports=function(e,t,i){return o.defineProperty(e,t,i)}},Rqdy:function(e,t,i){var o=i("Y7ZC");o(o.S+o.F*!i("jmDH"),"Object",{defineProperty:i("2faE").f})},SEkw:function(e,t,i){e.exports={default:i("RU/L"),__esModule:!0}},YEIV:function(e,t,i){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(i("SEkw"));t.default=function(e,t,i){return t in e?(0,o.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},tuzU:function(e,t,i){"use strict";i.r(t);var o=i("P2sY"),r=i.n(o),a=i("YEIV"),n=i.n(a),l={name:"",mixins:[i("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){var e;return e={newVehicleForm:{id:0,title:"",category:"",starttime:(new Date).getTime(),endtime:(new Date).getTime(),owner:"",idnumber:"",mobile:""},vehicleForm:{},show:!1},n()(e,"newVehicleForm",{id:0,title:"",category:"",starttime:(new Date).getTime(),endtime:(new Date).getTime(),owner:"",idnumber:"",mobile:""}),n()(e,"starttime",(new Date).getTime()),n()(e,"endtime",(new Date).getTime()),e},mounted:function(){this.pObj=r()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.vehicleForm=r()({},this.newVehicleForm,this.pObj)):this.vehicleForm=r()({},this.newVehicleForm,this.$route.params)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.vehicleForm=r()({},this.newVehicleForm,this.pObj))},notice:function(e){console.log("时间",e),this.endtime=e,console.log("开始时间",this.starttime),console.log("结束时间",this.endtime),this.endtime<this.starttime&&alert("结束时间大于开始时间")},see:function(e){console.log("时间",e);var t=(new Date).getTime();console.log("新时间",t),e<t&&alert("开始及时间小于当前时间")},handleSubmitwhitecar:function(){this.submitBasemanForm("vehicleForm"),console.log("数据")},submitBasemanForm:function(e){var t=this;console.log("数据1"),this.$refs[e].validate(function(i){if(!i)return!1;t.submitBasemanFormImpl(e)})},submitBasemanFormImpl:function(e){var t=this;console.log("数据2");var i=void 0,o=!0,a="";this[e].id>0?(i="/act",o=!1,a="carwhitemanup"):(i="/act",a="carwhitemanadd"),"固定车辆"===this.vehicleForm.category&&(this.vehicleForm.starttime=(new Date).getTime(),this.vehicleForm.endtime=(new Date).getTime()+536112e6);var n=r()({},this[e]);n._hy=a,this.callSrvAct(i,n).then(function(e){console.log("res:",e,t.isInDialog),t.isInDialog?o?e.data&&e.data.inst?t.$emit("submitOk",e.data.inst):e.data&&t.$emit("submitOk",e.data||{}):t.$emit("submitOk",n):t.$router.go(-1)})},tempCarChagne:function(e){e&&(this.vehicleForm.starttime=(new Date).getTime(),this.vehicleForm.endtime=(new Date).getTime()+864e5)},nouse:function(e){console.log("车辆",this.vehicleForm.category),"固定车辆"===this.vehicleForm.category?(this.show=!0,this.vehicleForm.starttime=(new Date).getTime(),this.vehicleForm.endtime=(new Date).getTime()+536112e6,console.log("变化",this.show)):(this.show=!1,console.log("变化1",this.show))}},watch:{paramsObj:function(e){this.pObj.id!=this.paramsObj.id&&(this.pObj=r()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},s=(i("5kiO"),i("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{attrs:{direction:"vertical"}},[i("el-form",{ref:"vehicleForm",attrs:{model:e.vehicleForm,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"车牌号码：",prop:"title",rules:{required:!0,trigger:"input"}}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入车牌号"},model:{value:e.vehicleForm.title,callback:function(t){e.$set(e.vehicleForm,"title",t)},expression:"vehicleForm.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"车辆类型：",prop:"category",rules:{required:!0,trigger:"blur"}}},[i("el-radio-group",{on:{change:e.nouse},model:{value:e.vehicleForm.category,callback:function(t){e.$set(e.vehicleForm,"category",t)},expression:"vehicleForm.category"}},[i("el-radio",{attrs:{label:"固定车辆"}},[i("span",[e._v("固定车辆\n                    ")])]),e._v(" "),i("el-radio",{attrs:{label:"临时车辆"},on:{change:e.tempCarChagne}},[i("span",[e._v("临时车辆\n                    ")])])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"允许通行时间：",prop:"starttime"}},[i("el-date-picker",{staticStyle:{width:"300px"},attrs:{"value-format":"timestamp",disabled:e.show,editable:!1,clearable:!1,"start-placeholder":"开始时间",type:"datetime",align:"","range-separator":""},on:{change:e.see},model:{value:e.vehicleForm.starttime,callback:function(t){e.$set(e.vehicleForm,"starttime",t)},expression:"vehicleForm.starttime"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"endtime"}},[i("el-date-picker",{staticStyle:{width:"300px"},attrs:{"value-format":"timestamp",disabled:e.show,editable:!1,clearable:!1,"start-placeholder":"开始时间",type:"datetime",align:"","range-separator":""},on:{change:e.notice},model:{value:e.vehicleForm.endtime,callback:function(t){e.$set(e.vehicleForm,"endtime",t)},expression:"vehicleForm.endtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"车主姓名：",prop:"owner",rules:{required:!0,trigger:"input"}}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入车主姓名"},model:{value:e.vehicleForm.owner,callback:function(t){e.$set(e.vehicleForm,"owner",t)},expression:"vehicleForm.owner"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"身份证号：",prop:"idnumber",rules:{required:!0,trigger:"input"}}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入身份证号"},model:{value:e.vehicleForm.idnumber,callback:function(t){e.$set(e.vehicleForm,"idnumber",t)},expression:"vehicleForm.idnumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码：",prop:"mobile",rules:{required:!0,trigger:"input"}}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入手机号"},model:{value:e.vehicleForm.mobile,callback:function(t){e.$set(e.vehicleForm,"mobile",t)},expression:"vehicleForm.mobile"}})],1)],1),e._v(" "),i("div",[i("el-button",{staticStyle:{margin:"10px 250px",display:"block"},on:{click:e.handleSubmitwhitecar}},[i("span",[e._v("确定\n            ")])])],1)],1)},[],!1,null,"1b1f7f29",null);c.options.__file="index.vue";t.default=c.exports}}]);