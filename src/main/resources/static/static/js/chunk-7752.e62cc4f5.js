(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7752"],{IhQU:function(t,r,e){},JYr9:function(t,r,e){"use strict";e.r(r);var o=e("P2sY"),s=e.n(o),a={name:"restart",mixins:[e("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{pObj:{},progresss:0,barcolors:"",pArr:[],reason:!1}},mounted:function(){this.pObj=s()({},this.paramsObj),this.pObj.progress=0,this.pObj.barcolor="",this.pObj.barstate="",this.pArr.push(this.pObj),this.startup()},methods:{startup:function(){var t=this,r=this,e={_hy:"algorithmrestart",qps:[{name:"id",val:[this.pObj.id],op:"in"}]};console.log("upData:",e),this.callSrvAct("/algorithmrestart",e).then(function(e){console.log("后台返回值",e,e.status),"FAILD"==e.status?(console.log("dkdkkd: ------ 11",e.data),t.count("FAILD",e.data),r.barcolors="red",t.pArr[0].barcolor="red"):(console.log("dkdkkd: ------ 12",e.data[0].result,"SUCCESS"==e.data[0].result,"FAILD"==e.data[0].result),"SUCCESS"==e.data[0].result?(console.log("dkdkkd: ------ 1",e.data),t.count("SUCCESS",e.data),r.barcolors="green",t.pArr[0].barcolor="green",t.$emit("submitOk")):"FAILD"==e.data[0].result&&(console.log("dkdkkd:----2",e.data),t.count("FAILD",e.data),r.barcolors="red",t.pArr[0].barcolor="red"))})},count:function(t,r){var e=this,o=this;o.progress=0,this.interval=window.setInterval(function(){o.progresss+=40,e.pArr[0].progress+=40,o.$set(o.pArr,0,o.pArr[0]),o.progresss>=100&&(o.progresss=100,o.pArr[0].progress=100,"SUCCESS"==t?e.pArr[0].barstate="success":"FAILD"==t&&(e.pArr[0].barstate="exception",e.pArr[0].msg=r[0].msg,e.reason=!0),window.clearInterval(o.interval),console.log(t))},500)},colse:function(){this.reason=!1,this.$emit("submitClose")}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){this.reason=!1,window.clearInterval(this.interval)},destroyed:function(){}},n=(e("Jp06"),e("KHd+")),l=Object(n.a)(a,function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("el-container",{attrs:{direction:"vertical"}},[e("div",{staticStyle:{display:"flex",margin:"10px 0px"}},[e("span",[t._v("总进度：\n        ")]),t._v(" "),e("el-progress",{staticStyle:{width:"200px"},attrs:{percentage:t.progresss,color:t.barcolors}})],1),t._v(" "),e("el-table",{attrs:{data:t.pArr,"header-cell-style":{background:"rgba(241,246,254,1)",fontWeight:"500",color:"#333333",fontSize:"16px"}}},[e("el-table-column",{attrs:{label:"算法名称",prop:"algorithm_title"}}),t._v(" "),e("el-table-column",{attrs:{label:"摄像机名称",prop:"camera_title"}}),t._v(" "),e("el-table-column",{attrs:{label:"启动时间"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("span",[t._v(t._s(t.gcomm.v2datetimestr(r.row.opentime))+"\n                ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"重启进度"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-progress",{attrs:{percentage:t.row.progress,status:t.row.barstate,color:t.row.barcolor}})]}}])}),t._v(" "),t.reason?e("el-table-column",{attrs:{label:"失败原因",prop:"msg"}}):t._e()],1),t._v(" "),e("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[e("el-button",{on:{click:t.colse}},[e("span",[t._v("关闭\n            ")])])],1)],1)},[],!1,null,"ea711d30",null);l.options.__file="index.vue";r.default=l.exports},Jp06:function(t,r,e){"use strict";var o=e("IhQU");e.n(o).a}}]);