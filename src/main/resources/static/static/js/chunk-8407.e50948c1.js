(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8407","chunk-4d2c"],{"4YDf":function(t,a,e){"use strict";e.r(a);var i=e("PDX7"),n={name:"homepage1",mixins:[e("y2a5").a],components:{Viewdetails:i.default},props:{},data:function(){return{show:!1,detailsEdit:null,inx:0,regionArr:[],countArr:[],cameraArr:[],policeClassificationTop:[],policeClassificationBottom:[],policeNum:0,policeArr:[],leftTotalData:{base:{jrls:0,sfmxsl:0,sxtsl:0},totality:{bjs:0,fzr:0,gbsl:0,jrls:0,kqsl:0,sxtsl:0,ycsl:0,yxzsl:0},today_warning:{a:{hxyj:0,pdyc:0,qcaq:0,xwwz:0,zywz:0,pbwz:0,smyj:0,xyyj:0},b:{fypd:0,hx:0,pp:0,qc:0,ryyj:0,sm:0,wdaqm:21,xy:0}}},regionID:"",countID:"",cameraTitle:"",countNum:0,cameraNum:0,countANum:0,option:{title:{textStyle:{color:"#ffffff"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{right:"50",data:["上月","本月","同比"],textStyle:{color:"#c3dbff"}},xAxis:{name:"时间/日期",data:[],axisLabel:{textStyle:{color:"#c3dbff"}},nameTextStyle:{color:"#c3dbff",fontSize:10}},yAxis:{name:"数量",axisLabel:{textStyle:{color:"#c3dbff"}},nameTextStyle:{color:"#c3dbff",fontSize:10}},series:[{name:"上月",type:"bar",stack:"总量",data:[],itemStyle:{normal:{color:"#66B3FF"}}},{name:"本月",type:"bar",stack:"总量",data:[],itemStyle:{normal:{color:"#FF8040"}}},{name:"同比",type:"line",data:[],itemStyle:{normal:{color:"#66B3FF"}},areaStyle:{}}]},option1:{title:{textStyle:{color:"#ffffff"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{right:50,data:["确认数","报警数"],textStyle:{color:"#c3dbff"}},xAxis:{data:[],axisLabel:{textStyle:{color:"#c3dbff"}}},yAxis:{axisLabel:{textStyle:{color:"#c3dbff"}}},series:[{name:"确认数",type:"bar",data:[],itemStyle:{normal:{color:"#66B3FF",barBorderRadius:[10,10,0,0]}}},{name:"报警数",type:"bar",data:[],itemStyle:{normal:{color:"#FF8040",barBorderRadius:[10,10,0,0]}}}]},alarmDele:2e3,timer:null,curCamera:null}},mounted:function(){var t=this;this.callSrvAct("/regionlist",{title:"",cp:0,rop:10}).then(function(a){console.log("区域",a),t.regionArr=a.data||[]});this.callSrvAct("/actq",{_hy:"algorithmacclist",qps:[{name:"title",val:"",op:"like"}]}).then(function(a){console.log("算法接入信息",a),t.countArr=a.data.pageData||[],t.countNum=a.data.totalRec||0,t.countArr.splice(0,0,{id:0,title:"全部"})}),this.callSrvAct("/cameraindexlist",["","",""]).then(function(a){console.log("摄像机信息",a),t.cameraArr=a.data||[],t.cameraArr&&t.cameraArr.length>0&&(t.video(t.cameraArr[0]),t.paint(t.cameraArr[0].border,t.cameraArr[0].box))});this.callSrvAct("/actq",{_hy:"algorithmlist",qps:[],sps:[{name:"algorithm_title",tb:"algorithm",orderV:"asc"}]}).then(function(a){console.log("算法管理信息",a),t.countANum=a.data.totalRec||0}),this.callSrvAct("/alarmdtl",-1).then(function(a){console.log("报警明细数据",a),t.policeArr=a.data});this.callSrvAct("/algorithmhome",{_hy:"algorithmhome"}).then(function(a){console.log("基本、总体、历史告警数据",a),t.leftTotalData=a.data,console.log("this.leftTotalData:",t.leftTotalData),t.option.xAxis.data=a.data.history_alarm.day,t.option.series[0].data=a.data.history_alarm.sy,t.option.series[1].data=a.data.history_alarm.by,t.option.series[2].data=a.data.history_alarm.tb;for(var e=[],i=[],n=[],l=0;l<a.data.today_alarm.length;l++)e.push(a.data.today_alarm[l].qrs),i.push(a.data.today_alarm[l].bjs),n.push(a.data.today_alarm[l].algorithm_name);t.option1.series[0].data=e,t.option1.series[1].data=i,t.option1.xAxis.data=n,echarts.init(document.getElementById("Histogram")).setOption(t.option),echarts.init(document.getElementById("Statistics")).setOption(t.option1)});this.callSrvAct("/alarmcount",{_hy:"alarmcount"}).then(function(a){console.log("报警统计数据",a),t.policeNum=0,t.policeClassificationTop=[],t.policeClassificationBottom=[];for(var e=0;e<a.data.length;e++)t.policeNum+=a.data[e].algorithm_num;for(var i=0;i<3;i++)t.policeClassificationTop.push(a.data[i]);for(var n=3;n<7;n++)t.policeClassificationBottom.push(a.data[n])}),console.log("分类数据",this.policeClassificationTop,this.policeClassificationBottom),this.startRefresh()},methods:{startRefresh:function(){var t=this;this.timer||(this.timer=setInterval(function(){if(t.curCamera)t.callSrvAct("/alarmqueuelist",{camera_id:t.curCamera.id}).then(function(a){var e=document.getElementById("cvs");if(e.height=e.height,"SUCCESS"==a.status)if(a.data&&a.data.length>0){var i=a.data[0].box||"";t.paint(t.curCamera.border,i),t.paintText(a.data[0].orgName+":"+a.data[0].personName,a.data[0].personId)}else t.paint(t.curCamera.border,"");else t.paint(t.curCamera.border,"")});else{var a=document.getElementById("cvs");a.height=a.height}},2e3))},video:function(t){this.startVideo(t),console.log("xxx :",t),this.curCamera=t},startVideo:function(t){if(null!=this.flvPlayer&&this.destoryVideo(),"关闭"!=t.state&&t.pushaddress&&!(t.pushaddress.length<1)&&flvjs.isSupported()){var a=document.getElementById("testplay");this.flvPlayer=flvjs.createPlayer({type:"flv",url:t.pushaddress}),this.flvPlayer.on("error",function(t){console.log("err",t)}),this.flvPlayer.attachMediaElement(a),this.flvPlayer.load(),this.flvPlayer.play()}},destoryVideo:function(){null!=this.flvPlayer&&(this.flvPlayer.pause(),this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy(),this.flvPlayer=null)},jump1:function(){this.$router.push({name:"algorithmm"})},jump2:function(){this.$router.push({name:"videoca"})},jump3:function(){this.$router.push({name:"alaccess"})},dateyTime:function(){var t=new Date,a="",e=t.toLocaleTimeString("chinese",{hour12:!1});return 0==t.getDay()?a="星期七":1==t.getDay()?a="星期一":2==t.getDay()?a="星期二":3==t.getDay()?a="星期三":4==t.getDay()?a="星期四":5==t.getDay()?a="星期五":6==t.getDay()&&(a="星期六"),t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日  "+a+"  "+e},handleclick:function(t,a){this.detailsEdit=a,this.show=!0},handleclose:function(){var t=this;this.show=!1;this.callSrvAct("/alarmcount",{_hy:"alarmcount"}).then(function(a){console.log("报警统计数据",a),t.policeNum=0,t.policeClassificationTop=[],t.policeClassificationBottom=[];for(var e=0;e<a.data.length;e++)t.policeNum+=a.data[e].algorithm_num;for(var i=0;i<3;i++)t.policeClassificationTop.push(a.data[i]);for(var n=3;n<7;n++)t.policeClassificationBottom.push(a.data[n])}),this.callSrvAct("/alarmdtl",-1).then(function(a){console.log("报警明细数据",a),t.policeArr=a.data})},handleplices:function(t){var a=this;this.callSrvAct("/alarmdtl",t).then(function(t){console.log("返回值",t),a.policeArr=t.data})},handleplice:function(t){var a=this;console.log(t),this.callSrvAct("/alarmdtl",t).then(function(t){console.log("返回值",t),a.policeArr=t.data})},handleplice1:function(t){var a=this;console.log(t),this.callSrvAct("/alarmdtl",t).then(function(t){console.log("返回值",t),a.policeArr=t.data})},detailsOK:function(){},detailsSet:function(){},time:function(t){var a=new Date(1e3*t);return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+"  "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())+":"+(a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds())},tableHeaderColor:function(t){t.row,t.column;var a=t.rowIndex;t.columnIndex;if(0===a)return"background-color: red;color: #0000;font-weight: 500;"},regionIDChange:function(t){var a=this;console.log(t);for(var e=0;e<this.regionArr.length;e++)t==this.regionArr[e].id&&0==this.regionArr[e].parent_id&&(this.regionID="");this.callSrvAct("/cameraindexlist",[this.regionID+"",this.countID+"",this.cameraTitle+""]).then(function(t){console.log("摄像机信息",t),a.cameraArr=t.data})},countIDChange:function(t){var a=this;0==t&&(this.countID=""),this.callSrvAct("/cameraindexlist",[this.regionID+"",this.countID+"",this.cameraTitle+""]).then(function(t){console.log("摄像机信息",t),a.cameraArr=t.data})},cameraTitleChange:function(){var t=this;this.callSrvAct("/cameraindexlist",[this.regionID+"",this.countID+"",this.cameraTitle+""]).then(function(a){console.log("摄像机信息",a),t.cameraArr=a.data||[]})},cameraVideo2:function(t){if(t){var a=document.getElementById("cvs");a.height=a.height,this.paint(t.border,t.box),this.video(t)}},cameraVideo:function(t,a,e){console.log("参数",t,a,e)},isUndef:function(t){return void 0===t||"undefined"==t||null==t},paint:function(t,a){var e=[];t&&t.length>0&&(e=JSON.parse(t));var i=[],n=[],l=document.getElementById("cvs");if(a&&a.length>0){var o=JSON.parse(a);if(o&&o.length)for(var s=0;s<o.length-1;s+=2)i.push(o[s+1]),i.push(o[s]);n=[[i[0]*l.width,i[1]*l.height],[i[2]*l.width,i[1]*l.height],[i[2]*l.width,i[3]*l.height],[i[0]*l.width,i[3]*l.height],[i[0]*l.width,i[1]*l.height]]}var c=this.$refs.cvs.getContext("2d"),r=this.$refs.cvs.getContext("2d");if(!this.isUndef(e)&&e.length>0){c.lineWidth=1,c.strokeStyle="#ffdc35",c.beginPath(),c.moveTo(e[0][0]*l.width,e[0][1]*l.height);for(var d=0;d<e.length;d++)d+1<e.length&&(c.lineTo(e[d+1][0]*l.width,e[d+1][1]*l.height),c.stroke());c.closePath()}if(!this.isUndef(n)&&n.length>0){r.lineWidth=1,r.strokeStyle="#f9f900",r.beginPath();for(var h=0;h<n.length-1;h++)r.moveTo(n[h][0],n[h][1]),r.lineTo(n[h+1][0],n[h+1][1]),r.stroke();r.closePath()}},paintText:function(t,a){var e=document.getElementById("cvs"),i=this.$refs.cvs.getContext("2d");"-1"!=a&&""!=a&&("0"==a||a.length>0&&t&&t.length>0&&(i.font="bold 21px Arial",i.textAlign="end",i.textBaseAlign="top",i.fillStyle="#F56C6C",i.fillText(t,e.width-6,20)))},leftChange:function(){this.inx=this.inx-5,this.inx<=0&&(this.inx=0),console.log(this.inx)},rightChange:function(){this.inx=this.inx+5,this.inx>=this.cameraArr.length-5&&(this.inx=this.cameraArr.length-5,this.inx<=0&&(this.inx=0)),console.log(this.inx)}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.destoryVideo()},destroyed:function(){}},l=(e("Q5+6"),e("KHd+")),o=Object(l.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-container",{staticStyle:{background:"url(/static/image/bg3.jpg) no-repeat","background-size":"100% 100%",width:"100%"},attrs:{direction:"vertical"}},[e("el-main",[e("div",{staticStyle:{width:"100%"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"100%"}},[e("div",{staticStyle:{"line-height":"40px",width:"25%"}},[e("span",{staticStyle:{"font-size":"25px",color:"#00E3E3"}},[t._v("违章报警\n                    ")]),t._v(" "),t._e()]),t._v(" "),e("div",{staticStyle:{"line-height":"40px",width:"47%","text-align":"center"}}),t._v(" "),e("div",{staticStyle:{"line-height":"40px",width:"25%"}},[e("span",{staticStyle:{color:"#ffffff"}},[t._v(t._s(t.dateyTime())+"\n                    ")]),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e()])]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"100%","margin-top":"10px"}},[e("div",{staticStyle:{width:"25%"}},[e("div",[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("基本信息\n                            ")])]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"20px",background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px",height:"200px"}},[e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"stretch",height:"100%"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",height:"24px","margin-bottom":"50px"}},[e("div",{staticStyle:{"text-align":"right",width:"100px"}},[e("span",{staticStyle:{color:"#ffffff"}},[t._v("接入路数\n                                        ")])]),t._v(" "),e("div",{staticStyle:{height:"100%",width:"60%",display:"flex","justify-content":"space-around"}},[e("div",{class:{active1:t.leftTotalData.base.jrls>=1,active3:0==t.leftTotalData.base.jrls},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active1:t.leftTotalData.base.jrls>=1,active3:0==t.leftTotalData.base.jrls},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active1:t.leftTotalData.base.jrls>=1,active3:0==t.leftTotalData.base.jrls},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.jrls>=100,active3:t.leftTotalData.base.jrls<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.jrls>=100,active3:t.leftTotalData.base.jrls<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.jrls>=100,active3:t.leftTotalData.base.jrls<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}})]),t._v(" "),e("div",[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump1}},[t._v(t._s(t.leftTotalData.base.jrls)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("路\n                                        ")])])]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-between",height:"24px","margin-bottom":"50px"}},[e("div",{staticStyle:{"text-align":"right",width:"100px"}},[e("span",{staticStyle:{color:"#ffffff"}},[t._v("摄像头数量\n                                        ")])]),t._v(" "),e("div",{staticStyle:{height:"100%",width:"60%",display:"flex","justify-content":"space-around"}},[e("div",{class:{active1:t.leftTotalData.base.sxtsl>=1,active3:0==t.leftTotalData.base.sxtsl},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active1:t.leftTotalData.base.sxtsl>=1,active3:0==t.leftTotalData.base.sxtsl},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active1:t.leftTotalData.base.sxtsl>=1,active3:0==t.leftTotalData.base.sxtsl},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.sxtsl>=100,active3:t.leftTotalData.base.sxtsl<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.sxtsl>=100,active3:t.leftTotalData.base.sxtsl<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.sxtsl>=100,active3:t.leftTotalData.base.sxtsl<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}})]),t._v(" "),e("div",[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump2}},[t._v(t._s(t.leftTotalData.base.sxtsl)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                        ")])])]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-between",height:"24px"}},[e("div",{staticStyle:{"text-align":"right",width:"100px"}},[e("span",{staticStyle:{color:"#ffffff"}},[t._v("算法模型数量\n                                        ")])]),t._v(" "),e("div",{staticStyle:{height:"100%",width:"60%",display:"flex","justify-content":"space-around"}},[e("div",{class:{active1:t.leftTotalData.base.sfmxsl>=1,active3:0==t.leftTotalData.base.sfmxsl},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active1:t.leftTotalData.base.sfmxsl>=1,active3:0==t.leftTotalData.base.sfmxsl},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active1:t.leftTotalData.base.sfmxsl>=1,active3:0==t.leftTotalData.base.sfmxsl},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.sfmxsl>=100,active3:t.leftTotalData.base.sfmxsl<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.sfmxsl>=100,active3:t.leftTotalData.base.sfmxsl<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{class:{active2:t.leftTotalData.base.sfmxsl>=100,active3:t.leftTotalData.base.sfmxsl<=100},staticStyle:{height:"100%",width:"8%"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}}),t._v(" "),e("div",{staticStyle:{height:"100%",width:"8%",background:"#003E3E"}})]),t._v(" "),e("div",[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump3}},[t._v(t._s(t.leftTotalData.base.sfmxsl)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                        ")])])])])])]),t._v(" "),e("div",[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("总体信息\n                            ")])]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-bottom":"10px"}},[e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("摄像头数量\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ztxx.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump1}},[t._v(t._s(t.leftTotalData.totality.sxtsl)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                            ")])])])]),t._v(" "),e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("开启数量\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ztxx.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump2}},[t._v(t._s(t.leftTotalData.totality.kqsl)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                            ")])])])]),t._v(" "),e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("关闭数量\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ztxx.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump3}},[t._v(t._s(t.leftTotalData.totality.gbsl)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                            ")])])])]),t._v(" "),e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("接收人\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ztxx.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump3}},[t._v(t._s(t.leftTotalData.totality.fzr)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                            ")])])])])]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("接入路数\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ztxx.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump1}},[t._v(t._s(t.leftTotalData.totality.jrls)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("路\n                                            ")])])])]),t._v(" "),e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("运行中数量\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ztxx.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump2}},[t._v(t._s(t.leftTotalData.totality.yxzsl)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                            ")])])])]),t._v(" "),e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("异常数量\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ycsl.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump3}},[t._v(t._s(t.leftTotalData.totality.ycsl)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("个\n                                            ")])])])]),t._v(" "),e("div",{staticStyle:{width:"24%",height:"100px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"12px"}},[t._v("报警数\n                                        ")]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/bjs.png) no-repeat","background-size":"100% 100%","margin-top":"10px",width:"100%",height:"60px","line-height":"60px"}},[e("span",{staticStyle:{"font-size":"20px",color:"#A6FFFF"},on:{click:t.jump3}},[t._v(t._s(t.leftTotalData.totality.bjs)+"\n                                            ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                            ")])])])])])])]),t._v(" "),e("div",{staticStyle:{"margin-top":"20px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("历史告警时段分布\n                            ")])]),t._v(" "),e("div",{ref:"Histogram",staticStyle:{width:"100%",height:"400px",background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px"},attrs:{id:"Histogram"}})])]),t._v(" "),e("div",{staticStyle:{width:"47%"}},[e("div",[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("实时监控\n                            ")])]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px"}},[e("div",{staticStyle:{"line-height":"40px",display:"flex","justify-content":"space-between"}},[t._e(),t._v(" "),e("el-select",{staticStyle:{width:"48%"},attrs:{placeholder:"请选择算法名称"},on:{change:t.countIDChange},model:{value:t.countID,callback:function(a){t.countID=a},expression:"countID"}},t._l(t.countArr,function(t,a){return e("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),t._v(" "),e("el-input",{staticStyle:{width:"48%"},attrs:{placeholder:"请输入摄像机名称"},on:{blur:t.cameraTitleChange},model:{value:t.cameraTitle,callback:function(a){t.cameraTitle=a},expression:"cameraTitle"}})],1),t._v(" "),e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between",margin:"15px 0px"}},[e("div",{staticStyle:{background:"url(/static/image/ARROW-L-h.png) no-repeat","background-size":"100% 100%",width:"20px"},on:{click:t.leftChange}}),t._v(" "),t.inx<=t.cameraArr.length-1?e("div",[e("div",{class:{active5:"异常"==t.cameraArr[t.inx].state,active6:"运行中"==t.cameraArr[t.inx].state},staticStyle:{color:"#A6FFFF",padding:"5px"},on:{click:function(a){t.cameraVideo2(t.cameraArr[t.inx])}}},[e("span",[t._v(t._s(t.cameraArr[t.inx].title)+"\n                                        ")])])]):t._e(),t._v(" "),t.inx+1<=t.cameraArr.length-1?e("div",[e("div",{class:{active5:"异常"==t.cameraArr[t.inx+1].state,active6:"运行中"==t.cameraArr[t.inx+1].state},staticStyle:{color:"#A6FFFF",padding:"5px"},on:{click:function(a){t.cameraVideo2(t.cameraArr[t.inx+1])}}},[e("span",[t._v(t._s(t.cameraArr[t.inx+1].title)+"\n                                        ")])])]):t._e(),t._v(" "),t.inx+2<=t.cameraArr.length-1?e("div",[e("div",{class:{active5:"异常"==t.cameraArr[t.inx+2].state,active6:"运行中"==t.cameraArr[t.inx+2].state},staticStyle:{color:"#A6FFFF",padding:"5px"},on:{click:function(a){t.cameraVideo2(t.cameraArr[t.inx+2])}}},[e("span",[t._v(t._s(t.cameraArr[t.inx+2].title)+"\n                                        ")])])]):t._e(),t._v(" "),t.inx+3<=t.cameraArr.length-1?e("div",[e("div",{class:{active5:"异常"==t.cameraArr[t.inx+3].state,active6:"运行中"==t.cameraArr[t.inx+3].state},staticStyle:{color:"#A6FFFF",padding:"5px"},on:{click:function(a){t.cameraVideo2(t.cameraArr[t.inx+3])}}},[e("span",[t._v(t._s(t.cameraArr[t.inx+3].title)+"\n                                        ")])])]):t._e(),t._v(" "),t.inx+4<=t.cameraArr.length-1?e("div",[e("div",{class:{active5:"异常"==t.cameraArr[t.inx+4].state,active6:"运行中"==t.cameraArr[t.inx+4].state},staticStyle:{color:"#A6FFFF",padding:"5px"},on:{click:function(a){t.cameraVideo2(t.cameraArr[t.inx+4])}}},[e("span",[t._v(t._s(t.cameraArr[t.inx+4].title)+"\n                                        ")])])]):t._e(),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/ARROW-R-h.png) no-repeat","background-size":"100% 100%",width:"20px"},on:{click:t.rightChange}})]),t._v(" "),e("div",{staticStyle:{width:"100%"}},[e("div",{staticStyle:{width:"100%",height:"300px","background-color":"#000000",position:"relative"}},[e("video",{ref:"testplay",staticStyle:{width:"100%",height:"100%","object-fit":"fill"},attrs:{id:"testplay"}}),t._v(" "),e("span",{staticStyle:{display:"block",width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px"}},[e("canvas",{ref:"cvs",staticStyle:{width:"100%",height:"100%"},attrs:{id:"cvs"}},[t._v("不支持canvas")])])])])])]),t._v(" "),e("div",{staticStyle:{"margin-top":"20px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("本日预警统计\n                            ")])]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px"}},[e("div",[e("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-bottom":"20px"}},[t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>0?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[0].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[0].algorithm_name)+"\n                                            ")])])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>1?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[1].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[1].algorithm_name)+"\n                                            ")])])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>2?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[2].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[2].algorithm_name)+"\n                                            ")])])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>3?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[3].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[3].algorithm_name)+"\n                                            ")])])]):t._e()]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>4?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[4].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[4].algorithm_name)+"\n                                            ")])])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>5?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[5].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[5].algorithm_name)+"\n                                            ")])])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>6?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[6].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[6].algorithm_name)+"\n                                            ")])])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>7?e("div",{staticStyle:{position:"relative",width:"126px"}},[e("div",{staticStyle:{width:"100%",height:"126px",background:"url(/static/image/YUAN.png) no-repeat","background-size":"100% 100%","line-height":"126px","text-align":"center"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[7].rate+"%")+"\n                                            ")])]),t._v(" "),e("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"5px"}},[e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[7].algorithm_name)+"\n                                            ")])])]):t._e()])]),t._v(" "),e("div",{staticStyle:{"margin-top":"20px"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-bottom":"5px"}},[t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>0?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[0].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[0].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>1?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[1].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[1].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>2?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[2].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[2].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>3?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[3].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[3].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e()]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>4?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[4].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[4].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>5?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[5].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[5].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>6?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[6].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[6].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e(),t._v(" "),t.leftTotalData.today_warning&&t.leftTotalData.today_warning.length>7?e("div",[e("span",{staticStyle:{color:"#A6FFFF"}},[t._v(t._s(t.leftTotalData.today_warning[7].algorithm_name)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#ffffff","font-size":"18px"}},[t._v(t._s(t.leftTotalData.today_warning[7].num)+"\n                                        ")]),t._v(" "),e("span",{staticStyle:{color:"#A6FFFF"}},[t._v("次\n                                        ")])]):t._e()])])])])]),t._v(" "),e("div",{staticStyle:{width:"25%"}},[e("div",[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("报警信息\n                            ")])]),t._v(" "),e("div",{staticStyle:{background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px"}},[e("div",[e("div",[e("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-bottom":"10px"}},[e("div",{class:{active7:t.policeNum>=1,active8:0==t.policeNum},staticStyle:{width:"24%","text-align":"center"},on:{click:function(a){t.handleplices(-1)}}},[e("span",{staticStyle:{color:"#00E3E3"}},[t._v(t._s("全部（"+t.policeNum+"）")+"\n                                            ")])]),t._v(" "),t._l(t.policeClassificationTop,function(a,i){return e("div",{key:a.algorithm_id,class:{active7:a.algorithm_num>=1,active8:0==a.algorithm_num},staticStyle:{width:"24%","text-align":"center"},on:{click:function(e){t.handleplice(a.algorithm_id)}}},[e("span",{staticStyle:{color:"#00E3E3"}},[t._v(t._s(a.algorithm_name+"（"+a.algorithm_num+"）")+"\n                                            ")])])})],2),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-around"}},t._l(t.policeClassificationBottom,function(a,i){return e("div",{key:a.algorithm_id,class:{active7:a.algorithm_num>=1,active8:0==a.algorithm_num},staticStyle:{width:"24%","text-align":"center"},on:{click:function(e){t.handleplice1(a.algorithm_id)}}},[e("span",{staticStyle:{color:"#00E3E3"}},[t._v(t._s(a.algorithm_name+"（"+a.algorithm_num+"）")+"\n                                            ")])])}))]),t._v(" "),e("div",{staticStyle:{width:"100%",height:"5px","background-color":"#00E3E3",margin:"10px 0px"}})]),t._v(" "),e("el-table",{attrs:{data:t.policeArr,height:"340px","cell-style":{"text-align":"center","font-size":"9px"},"header-cell-style":{"text-align":"center"}}},[e("el-table-column",{attrs:{label:"时间","min-width":"100%"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.gcomm.v2datetimestr(a.row.alarm_time))+"\n                                        ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{width:"5%"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{staticStyle:{width:"5px",height:"5px","background-color":"green","border-radius":"50%"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"摄像机",prop:"camera_name"}}),t._v(" "),e("el-table-column",{attrs:{label:"类型",prop:"algorithm_name"}}),t._v(" "),e("el-table-column",{attrs:{width:"5%"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{staticStyle:{width:"5px",height:"5px","background-color":"green","border-radius":"50%"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"详情"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{on:{click:function(e){t.handleclick(a.$index,a.row)}}},[t._v("查看详情\n                                        ")])]}}])})],1)],1)]),t._v(" "),e("div",{staticStyle:{"margin-top":"20px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{"font-size":"24px",color:"#ffffff"}},[t._v("本日报警信息确认统计\n                            ")])]),t._v(" "),e("div",{ref:"Statistics",staticStyle:{width:"100%",height:"400px",background:"url(/static/image/kuang.png) no-repeat","background-size":"100% 100%",padding:"15px"},attrs:{id:"Statistics"}})])])])]),t._v(" "),t.show?e("el-dialog",{attrs:{visible:t.show,title:"报警信息"},on:{"update:visible":function(a){t.show=a},close:t.handleclose}},[t.show?e("viewdetails",{attrs:{paramsObj:t.detailsEdit},on:{submitOk:t.detailsOK,submitClose:t.detailsSet}}):t._e()],1):t._e()],1)],1)},[],!1,null,"cf083310",null);o.options.__file="index.vue";a.default=o.exports},PDX7:function(t,a,e){"use strict";e.r(a);var i={name:"viewdetails",mixins:[e("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{countData:[],countID:"",pObj:{},policeData:[]}},mounted:function(){var t=this;this.pObj=this.paramsObj,this.countID=this.pObj.algorithm_id;this.callSrvAct("/actq",{_hy:"algorithmacclist",qps:[{name:"title",val:"",op:"like"}]}).then(function(a){t.countData=a.data.pageData||[],t.countData.splice(0,0,{id:-1,title:"全部"})}),this.callSrvAct("/alarmdtl",this.pObj.algorithm_id).then(function(a){t.policeData=a.data||[],t.setCvsWH(),t.paint(t.pObj.border,t.pObj.box,t.pObj.orgName+":"+t.pObj.personName,t.pObj.personId+"")})},methods:{countChange:function(){var t=this;console.log(this.countID),this.callSrvAct("/alarmdtl",this.countID).then(function(a){t.policeData=a.data||[],t.policeData&&t.policeData.length>0?(t.pObj=t.policeData[0],t.countID=t.pObj.algorithm_id,t.setCvsWH(),t.paint(t.pObj.border,t.pObj.box,t.pObj.orgName+":"+t.pObj.personName,t.pObj.personId+"")):(t.pObj=null,t.countID=-1,t.setCvsWH())})},handlie:function(t){this.pObj=t,this.setCvsWH(),this.paint(this.pObj.border,this.pObj.box,this.pObj.orgName+":"+this.pObj.personName,this.pObj.personId+"")},time:function(t){var a=new Date(1e3*t);return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+"  "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())+":"+(a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds())},falsePositive:function(){var t=this;this.callSrvAct("/misstate",[this.pObj.id]).then(function(a){t.callSrvAct("/alarmdtl",t.countID).then(function(a){t.policeData=a.data,null==t.policeData?(t.pObj.camera_name="",t.pObj.algorithm_name="",t.pObj.alarm_time=""):t.pObj=t.policeData[0],t.setCvsWH(),t.pObj&&(t.countID=t.pObj.algorithm_id,t.paint(t.pObj.border,t.pObj.box,t.pObj.orgName+":"+t.pObj.personName,t.pObj.personId+""))})})},end:function(){var t=this;this.callSrvAct("/confirmState",[this.pObj.id]).then(function(a){t.callSrvAct("/alarmdtl",t.countID).then(function(a){t.policeData=a.data,null==t.policeData?(t.pObj.camera_name="",t.pObj.algorithm_name="",t.pObj.alarm_time=""):t.pObj=t.policeData[0],t.setCvsWH(),t.pObj&&(t.countID=t.pObj.algorithm_id,t.paint(t.pObj.border,t.pObj.box,t.pObj.orgName+":"+t.pObj.personName,t.pObj.personId+""))})})},ends:function(){for(var t=this,a=[],e=0;e<this.policeData.length;e++)a.push(this.policeData[e].id);this.callSrvAct("/confirmState",a).then(function(a){console.log("返回值1",a),t.callSrvAct("/alarmdtl",t.countID).then(function(a){console.log("返回值2",a),t.policeData=a.data,console.log("返回值3",t.policeData),null==t.policeData?(t.pObj.camera_name="",t.pObj.algorithm_name="",t.pObj.alarm_time=""):t.pObj=t.policeData[0],t.setCvsWH(),t.pObj&&(t.countID=t.pObj.algorithm_id,t.paint(t.pObj.border,t.pObj.box,t.pObj.orgName+":"+t.pObj.personName,t.pObj.personId+""))})})},isUndef:function(t){return void 0===t||"undefined"==t||null==t},setCvsWH:function(){var t=document.getElementById("cvsdiv"),a=window.getComputedStyle(t,null).getPropertyValue("height"),e=window.getComputedStyle(t,null).getPropertyValue("width");a&&a.length>2&&(a=0|Number(a.substring(0,a.length-2))),e&&e.length>2&&(e=0|Number(e.substring(0,e.length-2)));var i=document.getElementById("cvs2");i.width=e,i.height=a},paint:function(t,a,e,i){var n=[];t&&t.length>0&&(n=JSON.parse(t));var l=[],o=[],s=document.getElementById("cvs2");if(a&&a.length>0){var c=JSON.parse(a);if(c&&c.length)for(var r=0;r<c.length-1;r+=2)l.push(c[r+1]),l.push(c[r]);o=[[l[0]*s.width|0,l[1]*s.height|0],[l[2]*s.width|0,l[1]*s.height|0],[l[2]*s.width|0,l[3]*s.height|0],[l[0]*s.width|0,l[3]*s.height|0],[l[0]*s.width|0,l[1]*s.height|0]]}var d=document.getElementById("cvs2").getContext("2d");if(!this.isUndef(n)&&n.length>0){d.lineWidth=1,d.strokeStyle="#ffdc35",d.beginPath(),d.moveTo(n[0][0]*s.width,n[0][1]*s.height);for(var h=0;h<n.length;h++)h+1<n.length&&(d.lineTo(n[h+1][0]*s.width|0,n[h+1][1]*s.height|0),d.stroke());d.closePath()}if(!this.isUndef(o)&&o.length>0){d.lineWidth=1,d.strokeStyle="#f9f900",d.beginPath(),d.moveTo(o[0][0],o[0][1]);for(var f=0;f<o.length-1;f++)d.lineTo(o[f+1][0],o[f+1][1]),d.stroke();d.closePath()}"-1"!=i&&""!=i&&("0"==i||i.length>0&&e&&e.length>0&&(d.font="bold 21px Arial",d.textAlign="end",d.textBaseAlign="top",d.fillStyle="#F56C6C",d.fillText(e,s.width-6,20)))},genDownUrl:function(t){if(!t||t.length<1)return"";var a=t.split(";");return!a||a.length<2?"":this.hysrvport+"/hydownload?btnEncode=headupload&relateType=headimage&filename="+a[1]+"&Authorization="+this.apiSrv.token}},watch:{},computed:{}},n=(e("sCUJ"),e("KHd+")),l=Object(n.a)(i,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-container",{attrs:{direction:"vertical"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div",[e("div",[e("span",[t._v("摄像机名称：\n                ")]),t._v(" "),e("span",[t._v(t._s(t.pObj.camera_name)+"\n                ")])]),t._v(" "),e("div",{staticStyle:{margin:"10px 0px"}},[e("span",[t._v("算法类型：\n                ")]),t._v(" "),e("el-select",{on:{change:t.countChange},model:{value:t.countID,callback:function(a){t.countID=a},expression:"countID"}},t._l(t.countData,function(t,a){return e("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1)]),t._v(" "),e("div",[e("el-button",{staticStyle:{"background-color":"red"},on:{click:t.falsePositive}},[e("span",{staticStyle:{color:"#ffffff"}},[t._v("误报\n                ")])]),t._v(" "),e("el-button",{on:{click:t.end}},[e("span",[t._v("结束当前预警\n                ")])])],1)]),t._v(" "),e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div",{staticStyle:{width:"65%",height:"400px","background-color":"#E0E0E0",padding:"10px"}},[e("div",[e("span",[t._v(t._s(t.pObj.camera_name+"-"+t.pObj.algorithm_name)+"\n                ")]),t._v(" "),e("span",{staticStyle:{float:"right",color:"#BEBEBE"}},[t._v(t._s(t.gcomm.v2datetimestr(t.pObj.alarm_time))+"\n                ")])]),t._v(" "),e("div",{ref:"cvsdiv",staticStyle:{width:"100%",height:"360px",border:"1px solid #ADADAD","margin-top":"6px",position:"relative"},attrs:{id:"cvsdiv"}},[e("img",{attrs:{src:t.genDownUrl(t.pObj.alarm_img),width:"100%",height:"360"}}),t._v(" "),e("div",{staticStyle:{display:"block",width:"100%",height:"360px",position:"absolute",left:"0px",top:"0px"}},[e("canvas",{ref:"cvs2",staticStyle:{width:"100%",height:"100%"},attrs:{id:"cvs2"}},[t._v("不支持canvas")])])])]),t._v(" "),e("div",{staticStyle:{width:"30%",height:"400px",border:"1px solid #ADADAD",padding:"10px","background-color":"#E0E0E0"}},[e("div",{staticStyle:{"border-bottom":"1px solid #ADADAD","padding-bottom":"5px"}},[e("span",{staticStyle:{color:"#000000"}},[t._v("报警列表\n                ")]),t._v(" "),e("span",{staticStyle:{color:"blue",float:"right"},on:{click:t.ends}},[t._v("全部结束\n                ")])]),t._v(" "),e("div",{staticStyle:{width:"100%",height:"360px","overflow-y":"auto"}},t._l(t.policeData,function(a,i){return e("div",{key:a.id,staticStyle:{"border-bottom":"1px solid #ADADAD","line-height":"30px","text-align":"center"},on:{click:function(e){t.handlie(a)}}},[e("span",[t._v(t._s(t.gcomm.v2datetimestr(a.alarm_time))+"\n                    ")])])}))])])])},[],!1,null,"51b29cba",null);l.options.__file="index.vue";a.default=l.exports},"Q5+6":function(t,a,e){"use strict";var i=e("yB/b");e.n(i).a},cUhY:function(t,a,e){},sCUJ:function(t,a,e){"use strict";var i=e("cUhY");e.n(i).a},"yB/b":function(t,a,e){}}]);