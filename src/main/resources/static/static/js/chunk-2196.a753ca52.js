(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2196"],{"967Q":function(t,e,a){},"EB5+":function(t,e,a){"use strict";var r=a("967Q");a.n(r).a},"RU/L":function(t,e,a){a("Rqdy");var r=a("WEpk").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},Rqdy:function(t,e,a){var r=a("Y7ZC");r(r.S+r.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(t,e,a){t.exports={default:a("RU/L"),__esModule:!0}},SyKA:function(t,e,a){"use strict";a.r(e);var r,i=a("YEIV"),n=a.n(i),o=a("P2sY"),s=a.n(o),l=a("y2a5"),u=a("fZJM"),p=a.n(u),d={name:"useredit",mixins:[l.a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newUserForm:{id:0,user_name:"",title:"",parent_id:0,mobile:"",pwd:""},userForm:{},deptData:[],isInDialog:!1,pObj:{}}},mounted:function(){this.pObj=s()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.userForm=s()({},this.newUserForm,this.pObj)):this.userForm=s()({},this.newUserForm,this.$route.params),this.deptFetchElSelectData()},methods:(r={pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.userForm=s()({},this.newUserForm,this.pObj))},deptFetchElSelectData:function(){var t=this;this.callSrvAct("/actq",{_hy:"departlist",qps:[{name:"type",val:"部门",tb:"org"}],sps:[{name:"title",tb:"org",orderV:"asc"}]}).then(function(e){t.deptData=[],"[object Array]"==Object.prototype.toString.call(e.data)?t.deptData=e.data||[]:e.data&&e.data.pageData&&"[object Array]"==Object.prototype.toString.call(e.data.pageData)&&(t.deptData=e.data.pageData||[]),t.userForm.parent_id<1&&t.deptData&&t.deptData.length>0&&(t.userForm.parent_id=t.deptData[0].id,t.userForm.parent_title=t.deptData[0].title)})},changeabc74:function(t){for(var e=null,a=0;a<this.deptData.length;a++)if(this.deptData[a].id==t){e=this.deptData[a];break}this.userForm.parent_id=e.id,this.userForm.parent_title=e.title}},n()(r,"deptFetchElSelectData",function(){var t=this;this.callSrvAct("/actq",{_hy:"departlist",qps:[{name:"type",val:"部门",tb:"org"}],sps:[{name:"title",tb:"org",orderV:"asc"}]}).then(function(e){t.deptData=[],"[object Array]"==Object.prototype.toString.call(e.data)?t.deptData=e.data||[]:e.data&&e.data.pageData&&"[object Array]"==Object.prototype.toString.call(e.data.pageData)&&(t.deptData=e.data.pageData||[]),t.userForm.parent_id<1&&t.deptData&&t.deptData.length>0&&(t.userForm.parent_id=t.deptData[0].id,t.userForm.parent_title=t.deptData[0].title)})}),n()(r,"handleSubmitUesr",function(){this.submitRoleForm("userForm")}),n()(r,"submitRoleFormImpl",function(t){var e=this;console.log(this[t]);var a=void 0,r=!0,i="";this[t].id>0?(a="/act",r=!1,i="userup"):(a="/act",i="useradd");var n=s()({},this[t]);n._hy=i,!!n.pwd>0?n.pwd=p.a.sha1().update(n.pwd).digest("hex"):delete n[pwd],console.log("参数",n),this.callSrvAct(a,n).then(function(t){console.log("res:",t,e.isInDialog),e.isInDialog?r?t.data&&t.data.inst?e.$emit("submitOk",t.data.inst):t.data&&e.$emit("submitOk",t.data||{}):e.$emit("submitOk",n):e.$router.go(-1)})}),n()(r,"submitRoleForm",function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;e.submitRoleFormImpl(t)})}),r),watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=s()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},c=(a("EB5+"),a("KHd+")),m=Object(c.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[a("el-form",{ref:"userForm",staticStyle:{"margin-top":"10px"},attrs:{model:t.userForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账号",prop:"user_name",rules:{max:64}}},[a("el-input",{model:{value:t.userForm.user_name,callback:function(e){t.$set(t.userForm,"user_name",e)},expression:"userForm.user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"title",rules:{max:64}}},[a("el-input",{model:{value:t.userForm.title,callback:function(e){t.$set(t.userForm,"title",e)},expression:"userForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门ID",prop:"parent_id"}},[a("el-select",{ref:"dept",on:{change:t.changeabc74},model:{value:t.userForm.parent_id,callback:function(e){t.$set(t.userForm,"parent_id",e)},expression:"userForm.parent_id"}},t._l(t.deptData,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile",rules:{max:64}}},[a("el-input",{model:{value:t.userForm.mobile,callback:function(e){t.$set(t.userForm,"mobile",e)},expression:"userForm.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"pwd",rules:{max:64}}},[a("el-input",{model:{value:t.userForm.pwd,callback:function(e){t.$set(t.userForm,"pwd",e)},expression:"userForm.pwd"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:t.handleSubmitUesr}},[a("span",[t._v("提交\n            ")])])],1)],1)},[],!1,null,"c97b584a",null);m.options.__file="index.vue";e.default=m.exports},YEIV:function(t,e,a){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(a("SEkw"));e.default=function(t,e,a){return e in t?(0,r.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}}}]);