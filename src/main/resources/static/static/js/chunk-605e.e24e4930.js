(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-605e"],{"/ZXr":function(e,t,r){"use strict";var a=r("8c0w");r.n(a).a},"8c0w":function(e,t,r){},M2Gm:function(e,t,r){"use strict";r.r(t);var a=r("P2sY"),o=r.n(a),i=r("YEIV"),n=r.n(i),l={name:"cameraedit",mixins:[r("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){var e;return e={newCameraForm:{id:0,title:"",region_title:0,url:"",resolution:"",framerate:"",codec:"",videoa:"",corp:"",pos:"",scene:"",state:"",algorithms:""},cameraForm:{}},n()(e,"newCameraForm",{id:0,title:"",region_title:"",url:"",resolution:"",framerate:"",codec:"",videoa:"",corp:"",pos:"",scene:"",state:"",algorithms:"",planview:""}),n()(e,"cameraForm",{}),n()(e,"regionArr",[]),n()(e,"pObj",{}),n()(e,"pmst",[{lable:0,value:"平面视图"},{lable:1,value:"立体视图"}]),e},mounted:function(){var e=this;this.pObj=o()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.cameraForm=o()({},this.newCameraForm,this.pObj)):this.cameraForm=o()({},this.newCameraForm,this.$route.params),this.callSrvAct("/regionlist",{title:"",cp:0,rop:10}).then(function(t){console.log("区域",t),e.regionArr=t.data||[]})},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.cameraForm=o()({},this.newCameraForm,this.pObj))},handleChange:function(e){console.log(e);for(var t=0;t<this.regionArr.length;t++)this.regionArr[t].title==e&&(this.cameraForm.region_id=this.regionArr[t].id)},handleAvatarSuccess:function(e,t){this.cameraForm.url=e.data},genDownUrl:function(e){if(!e||e.length<1)return"";var t=e.split(";");return!t||t.length<2?"":this.hysrvport+"/hydownload?btnEncode=headupload&relateType=camera&filename="+t[1]+"&Authorization="+this.apiSrv.token},genUploadUrl:function(e){return this.hysrvport+"/hyupload?btnEncode=headupload&relateType=camera&fi=add&Authorization="+this.apiSrv.token},handleClick:function(){console.log("数据",this.cameraForm),this.submitOrgForm("cameraForm")},submitOrgFormImpl:function(e){var t=this,r=void 0,a=!0,i="";this[e].id>0?(r="/act",a=!1,i="cameraup"):(r="/act",i="cameraadd",this[e].state="关闭");var n=o()({},this[e]);n._hy=i,this.callSrvAct(r,n).then(function(e){t.isInDialog?(console.log("不跳转"),a?e.data&&e.data.inst?(console.log("1111111111"),t.$emit("submitOk",e.data.inst)):e.data&&(console.log("22222222222"),t.$emit("submitOk",e.data||{})):t.$emit("submitOk",n)):(console.log("跳转"),t.$router.go(-1))})},submitOrgForm:function(e){var t=this;this.$refs[e].validate(function(r){if(!r)return!1;t.submitOrgFormImpl(e)})},close:function(){this.cameraForm.url="",this.$refs.box.clearFiles()},goClick:function(){this.$emit("submitClose")}},watch:{paramsObj:function(e){this.pObj.id!=this.paramsObj.id&&(this.pObj=o()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},c=(r("/ZXr"),r("KHd+")),s=Object(c.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{attrs:{direction:"vertical"}},[r("el-form",{ref:"cameraForm",attrs:{model:e.cameraForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"设备名称：",prop:"title",rules:{required:!0,trigger:"input"}}},[r("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.cameraForm.title,callback:function(t){e.$set(e.cameraForm,"title",t)},expression:"cameraForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"摄像机位置：",prop:""}},[r("div",[r("el-select",{attrs:{placeholder:"选择区域"},on:{change:e.handleChange},model:{value:e.cameraForm.region_title,callback:function(t){e.$set(e.cameraForm,"region_title",t)},expression:"cameraForm.region_title"}},e._l(e.regionArr,function(e,t){return r("el-option",{key:e.id,attrs:{label:e.title,value:e.title}})})),e._v(" "),e._e()],1)]),e._v(" "),e._e(),e._v(" "),r("el-form-item",{attrs:{label:"分辨率：",prop:"resolution"}},[r("el-input",{attrs:{placeholder:"请输入帧率"},model:{value:e.cameraForm.resolution,callback:function(t){e.$set(e.cameraForm,"resolution",t)},expression:"cameraForm.resolution"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"帧率：",prop:"framerate"}},[r("el-input",{attrs:{placeholder:"请输入帧率"},model:{value:e.cameraForm.framerate,callback:function(t){e.$set(e.cameraForm,"framerate",t)},expression:"cameraForm.framerate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"视频编码：",prop:"codec"}},[r("el-input",{attrs:{placeholder:"请输入视频编码"},model:{value:e.cameraForm.codec,callback:function(t){e.$set(e.cameraForm,"codec",t)},expression:"cameraForm.codec"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"视频地址：",prop:"videoa",rules:{required:!0,trigger:"input"}}},[r("el-input",{attrs:{placeholder:"请输入视频地址"},model:{value:e.cameraForm.videoa,callback:function(t){e.$set(e.cameraForm,"videoa",t)},expression:"cameraForm.videoa"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"厂商：",prop:"corp",rules:{required:!0,trigger:"input"}}},[r("el-input",{model:{value:e.cameraForm.corp,callback:function(t){e.$set(e.cameraForm,"corp",t)},expression:"cameraForm.corp"}})],1),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e()],1),e._v(" "),r("el-row",{staticStyle:{"text-align":"center"},attrs:{autogenchild:!1,childcol:24,justify:"center"}},[r("el-button",{on:{click:e.goClick}},[r("span",[e._v("取消\n            ")])]),e._v(" "),r("el-button",{on:{click:e.handleClick}},[r("span",[e._v("确定\n            ")])])],1)],1)},[],!1,null,"c0021856",null);s.options.__file="index.vue";t.default=s.exports},"RU/L":function(e,t,r){r("Rqdy");var a=r("WEpk").Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},Rqdy:function(e,t,r){var a=r("Y7ZC");a(a.S+a.F*!r("jmDH"),"Object",{defineProperty:r("2faE").f})},SEkw:function(e,t,r){e.exports={default:r("RU/L"),__esModule:!0}},YEIV:function(e,t,r){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r("SEkw"));t.default=function(e,t,r){return t in e?(0,a.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}}}]);